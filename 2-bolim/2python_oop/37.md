# 📚 Darsning mavzusi: OOP Amaliyot: Real-world modeling, obyektlar munosabatlarini yaratish

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va loyiha talablari    | 20 daqiqa       |
| Onlayn do‘kon tizimini tuzish (1-qism) | 25 daqiqa       |
| Onlayn do‘kon tizimini tuzish (2-qism) | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‘lib, o‘quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# 📖 Darsning batafsil rejasi

## 1. Kirish va loyiha talablari (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! 😊 Bugun biz Python’da OOP (Obyektga yo‘naltirilgan dasturlash) bilimlarimizni amalda sinab, real dunyodagi onlayn do‘kon tizimini modellashtiramiz. Bu loyiha orqali sinflar, obyektlar va ular o‘zaro munosabatlarni yaratishni o‘rganamiz.

### Loyiha talablari:
Bizning onlayn do‘kon tizimi quyidagi funksionallikka ega bo‘ladi:  
1. `Mahsulot` nomli sinf yaratamiz, u mahsulotning nomi, narxi va miqdorini saqlaydi.  
2. `Mijoz` nomli sinf yaratamiz, u mijozning ma’lumotlari va savatchasini boshqaradi.  
3. `Do‘kon` nomli sinf yaratamiz, u mahsulotlar ro‘yxatini va sotuv jarayonini boshqaradi.  
4. Obyektlar o‘zaro munosabatlar: mijoz mahsulotni savatchaga qo‘shadi, do‘kon esa sotuvni amalga oshiradi.  

Loyiha uchun tuzilma:  
- `main.py` — asosiy dastur, unda sinflar va loyiha logikasi bo‘ladi.

Keling, bir savol: Onlayn do‘kon tizimi qanday vazifalarni bajarishi kerak deb o‘ylaysiz? (O‘quvchilar javobini kutaman, to‘g‘ri javob bo‘lsa: “Ajoyib, to‘g‘ri!” deyman.)

Mashq: Quyidagi vazifani bajaring:  
- `Mahsulot` nomli sinf yarating, u `nomi`, `narxi` va `miqdor` atributlariga ega bo‘lsin.  
- Bitta mahsulot obyekti yarating va uning atributlarini ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 2. Onlayn do‘kon tizimini tuzish (1-qism) (25 daqiqa)

Endi loyiha tuzilmasini yaratamiz va asosiy sinflarni tuzamiz! Birinchi qismda `Mahsulot`, `Mijoz` va `Do‘kon` sinflarini yaratamiz.

### 1. Mahsulot sinfi
`Mahsulot` sinfini yaratamiz, u mahsulotning asosiy ma’lumotlarini saqlaydi:

```python
# main.py
class Mahsulot:
    def __init__(self, nomi, narxi, miqdor):
        self.nomi = nomi
        self.narxi = narxi
        self.miqdor = miqdor

    def malumot(self):
        return f"Mahsulot: {self.nomi}, Narxi: {self.narxi} so‘m, Miqdor: {self.miqdor}"

# Test qilish
mahsulot = Mahsulot("Telefon", 5000000, 10)
print(mahsulot.malumot())  # Mahsulot: Telefon, Narxi: 5000000 so‘m, Miqdor: 10
```

### 2. Mijoz sinfi
`Mijoz` sinfini yaratamiz, u mijozning ma’lumotlari va savatchasini boshqaradi:

```python
# main.py
class Mijoz:
    def __init__(self, ism, balans):
        self.ism = ism
        self.balans = balans
        self.savatcha = []  # Savatchada mahsulotlar ro‘yxati

    def mahsulot_qosh(self, mahsulot, miqdor):
        if miqdor <= mahsulot.miqdor:
            self.savatcha.append((mahsulot, miqdor))
            return f"{miqdor} ta {mahsulot.nomi} savatchaga qo‘shildi."
        return "Yetarli miqdor yo‘q!"

    def savatcha_malumot(self):
        if not self.savatcha:
            return "Savatcha bo‘sh!"
        natija = f"{self.ism}ning savatchasi:\n"
        umumiy_narx = 0
        for mahsulot, miqdor in self.savatcha:
            narx = mahsulot.narxi * miqdor
            umumiy_narx += narx
            natija += f"- {miqdor} ta {mahsulot.nomi}, Narxi: {narx} so‘m\n"
        natija += f"Umumiy narx: {umumiy_narx} so‘m"
        return natija

# Test qilish
mijoz = Mijoz("Ali", 10000000)
mahsulot = Mahsulot("Telefon", 5000000, 10)
print(mijoz.mahsulot_qosh(mahsulot, 2))  # 2 ta Telefon savatchaga qo‘shildi.
print(mijoz.savatcha_malumot())
```

Natija:

```
Alining savatchasi:
- 2 ta Telefon, Narxi: 10000000 so‘m
Umumiy narx: 10000000 so‘m
```

### 3. Do‘kon sinfi (1-qism)
`Do‘kon` sinfini yaratamiz, u mahsulotlar ro‘yxatini boshqaradi:

```python
# main.py
class Do‘kon:
    def __init__(self, nomi):
        self.nomi = nomi
        self.mahsulotlar = []

    def mahsulot_qosh(self, mahsulot):
        self.mahsulotlar.append(mahsulot)
        return f"{mahsulot.nomi} do‘konga qo‘shildi."

    def mahsulotlar_royxati(self):
        if not self.mahsulotlar:
            return "Do‘konda mahsulot yo‘q."
        natija = f"{self.nomi} do‘konidagi mahsulotlar:\n"
        for mahsulot in self.mahsulotlar:
            natija += f"- {mahsulot.malumot()}\n"
        return natija

# Test qilish
dokon = Do‘kon("TechStore")
mahsulot1 = Mahsulot("Telefon", 5000000, 10)
mahsulot2 = Mahsulot("Noutbuk", 8000000, 5)
print(dokon.mahsulot_qosh(mahsulot1))  # Telefon do‘konga qo‘shildi.
print(dokon.mahsulot_qosh(mahsulot2))  # Noutbuk do‘konga qo‘shildi.
print(dokon.mahsulotlar_royxati())
```

Natija:

```
TechStore do‘konidagi mahsulotlar:
- Mahsulot: Telefon, Narxi: 5000000 so‘m, Miqdor: 10
- Mahsulot: Noutbuk, Narxi: 8000000 so‘m, Miqdor: 5
```

Bu qismda biz asosiy sinflarni yaratdik va obyektlar o‘zaro munosabatlarini boshladik.

Mashq: Quyidagi vazifani bajaring:  
- `Do‘kon` sinfidan "GadjetStore" nomli obyekt yarating.  
- Unga 1 ta mahsulot qo‘shing va mahsulotlar ro‘yxatini ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 3. Onlayn do‘kon tizimini tuzish (2-qism) (20 daqiqa)

Endi dasturimizga qo‘shimcha funksionalliklar qo‘shamiz: sotib olish jarayonini va miqdorni yangilashni amalga oshiramiz.

### 1. Do‘kon sinfiga sotib olish metodini qo‘shish
`Do‘kon` sinfiga mijozning savatchasidagi mahsulotlarni sotib olish metodini qo‘shamiz:

```python
# main.py
class Do‘kon:
    def __init__(self, nomi):
        self.nomi = nomi
        self.mahsulotlar = []

    def mahsulot_qosh(self, mahsulot):
        self.mahsulotlar.append(mahsulot)
        return f"{mahsulot.nomi} do‘konga qo‘shildi."

    def mahsulotlar_royxati(self):
        if not self.mahsulotlar:
            return "Do‘konda mahsulot yo‘q."
        natija = f"{self.nomi} do‘konidagi mahsulotlar:\n"
        for mahsulot in self.mahsulotlar:
            natija += f"- {mahsulot.malumot()}\n"
        return natija

    def sotib_ol(self, mijoz):
        if not mijoz.savatcha:
            return "Savatcha bo‘sh!"
        umumiy_narx = 0
        for mahsulot, miqdor in mijoz.savatcha:
            narx = mahsulot.narxi * miqdor
            umumiy_narx += narx
            mahsulot.miqdor -= miqdor  # Ombordagi miqdorni kamaytiramiz

        if mijoz.balans >= umumiy_narx:
            mijoz.balans -= umumiy_narx
            mijoz.savatcha = []  # Savatchani tozalaymiz
            return f"Sotib olish muvaffaqiyatli! Umumiy narx: {umumiy_narx} so‘m. Qoldiq balans: {mijoz.balans} so‘m."
        return "Balans yetarli emas!"

# Test qilish
dokon = Do‘kon("TechStore")
mahsulot = Mahsulot("Telefon", 5000000, 10)
dokon.mahsulot_qosh(mahsulot)

mijoz = Mijoz("Ali", 15000000)
mijoz.mahsulot_qosh(mahsulot, 2)
print(dokon.sotib_ol(mijoz))  # Sotib olish muvaffaqiyatli! Umumiy narx: 10000000 so‘m. Qoldiq balans: 5000000 so‘m.
print(dokon.mahsulotlar_royxati())
```

Natija:

```
TechStore do‘konidagi mahsulotlar:
- Mahsulot: Telefon, Narxi: 5000000 so‘m, Miqdor: 8
```

### 2. Mijoz sinfiga qo‘shimcha funksionallik
`Mijoz` sinfiga savatchadan mahsulot o‘chirish metodini qo‘shamiz:

```python
# main.py
class Mijoz:
    def __init__(self, ism, balans):
        self.ism = ism
        self.balans = balans
        self.savatcha = []

    def mahsulot_qosh(self, mahsulot, miqdor):
        if miqdor <= mahsulot.miqdor:
            self.savatcha.append((mahsulot, miqdor))
            return f"{miqdor} ta {mahsulot.nomi} savatchaga qo‘shildi."
        return "Yetarli miqdor yo‘q!"

    def mahsulot_ochir(self, mahsulot_nomi):
        for mahsulot, miqdor in self.savatcha:
            if mahsulot.nomi == mahsulot_nomi:
                self.savatcha.remove((mahsulot, miqdor))
                return f"{mahsulot_nomi} savatchadan o‘chirildi."
        return "Bunday mahsulot savatchada yo‘q!"

    def savatcha_malumot(self):
        if not self.savatcha:
            return "Savatcha bo‘sh!"
        natija = f"{self.ism}ning savatchasi:\n"
        umumiy_narx = 0
        for mahsulot, miqdor in self.savatcha:
            narx = mahsulot.narxi * miqdor
            umumiy_narx += narx
            natija += f"- {miqdor} ta {mahsulot.nomi}, Narxi: {narx} so‘m\n"
        natija += f"Umumiy narx: {umumiy_narx} so‘m"
        return natija

# Test qilish
mijoz = Mijoz("Ali", 15000000)
mahsulot = Mahsulot("Telefon", 5000000, 10)
mijoz.mahsulot_qosh(mahsulot, 2)
print(mijoz.savatcha_malumot())
print(mijoz.mahsulot_ochir("Telefon"))  # Telefon savatchadan o‘chirildi.
print(mijoz.savatcha_malumot())  # Savatcha bo‘sh!
```

Bu qismda biz sotib olish jarayonini va savatchani boshqarishni qo‘shdik.

Mashq: Quyidagi vazifani bajaring:  
- `Do‘kon` sinfidan "ElectroStore" nomli obyekt yarating va unga 2 ta mahsulot qo‘shing.  
- `Mijoz` sinfidan bir mijoz yarating, savatchaga 1 ta mahsulot qo‘shing va sotib oling.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi loyiha asosida mashqlar qilamiz! Quyidagi vazifalarni bajaramiz:

### Mashq 1: Mahsulot qo‘shish va ro‘yxatni ko‘rsatish
- "GadjetStore" nomli do‘kon yarating va unga 2 ta mahsulot qo‘shing.

```python
# main.py
dokon = Do‘kon("GadjetStore")
mahsulot1 = Mahsulot("Planshet", 3000000, 15)
mahsulot2 = Mahsulot("Smartfon", 6000000, 8)
print(dokon.mahsulot_qosh(mahsulot1))  # Planshet do‘konga qo‘shildi.
print(dokon.mahsulot_qosh(mahsulot2))  # Smartfon do‘konga qo‘shildi.
print(dokon.mahsulotlar_royxati())
```

Natija:

```
GadjetStore do‘konidagi mahsulotlar:
- Mahsulot: Planshet, Narxi: 3000000 so‘m, Miqdor: 15
- Mahsulot: Smartfon, Narxi: 6000000 so‘m, Miqdor: 8
```

### Mashq 2: Savatchaga mahsulot qo‘shish va o‘chirish
- "Vali" nomli mijoz yarating va savatchaga 1 ta mahsulot qo‘shing, so‘ng uni o‘chiring.

```python
# main.py
mijoz = Mijoz("Vali", 10000000)
mahsulot = Mahsulot("Smartfon", 6000000, 8)
print(mijoz.mahsulot_qosh(mahsulot, 1))  # 1 ta Smartfon savatchaga qo‘shildi.
print(mijoz.savatcha_malumot())
print(mijoz.mahsulot_ochir("Smartfon"))  # Smartfon savatchadan o‘chirildi.
print(mijoz.savatcha_malumot())  # Savatcha bo‘sh!
```

### Mashq 3: Sotib olish jarayoni
- "TechStore" nomli do‘kon yarating, unga 2 ta mahsulot qo‘shing.  
- Mijoz yarating, savatchaga mahsulotlar qo‘shing va sotib oling.

```python
# main.py
dokon = Do‘kon("TechStore")
mahsulot1 = Mahsulot("Telefon", 5000000, 10)
mahsulot2 = Mahsulot("Noutbuk", 8000000, 5)
dokon.mahsulot_qosh(mahsulot1)
dokon.mahsulot_qosh(mahsulot2)

mijoz = Mijoz("Zilola", 20000000)
mijoz.mahsulot_qosh(mahsulot1, 1)
mijoz.mahsulot_qosh(mahsulot2, 1)
print(mijoz.savatcha_malumot())
print(dokon.sotib_ol(mijoz))
print(dokon.mahsulotlar_royxati())
```

Natija:

```
Zilolaning savatchasi:
- 1 ta Telefon, Narxi: 5000000 so‘m
- 1 ta Noutbuk, Narxi: 8000000 so‘m
Umumiy narx: 13000000 so‘m

Sotib olish muvaffaqiyatli! Umumiy narx: 13000000 so‘m. Qoldiq balans: 7000000 so‘m.

TechStore do‘konidagi mahsulotlar:
- Mahsulot: Telefon, Narxi: 5000000 so‘m, Miqdor: 9
- Mahsulot: Noutbuk, Narxi: 8000000 so‘m, Miqdor: 4
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! 🎉 Bugun biz real dunyodagi onlayn do‘kon tizimini modellashtirdik. Sinflar o‘zaro munosabatlarni yaratdik: `Mahsulot`, `Mijoz` va `Do‘kon` sinflari orqali sotib olish jarayonini amalga oshirdik. Bu loyiha OOPning asosiy tamoyillarini amalda qo‘llashda ajoyib tajriba bo‘ldi.

Uyga vazifa sifatida quyidagini qiling:  
1. `Do‘kon` sinfiga `mahsulot_ochir` nomli metod qo‘shing, u do‘kondagi mahsulotni o‘chirsin.  
2. "ElectroStore" nomli do‘kon yarating, unga 3 ta mahsulot qo‘shing.  
3. Mijoz yarating, savatchaga 2 ta mahsulot qo‘shing, so‘ng bitta mahsulotni o‘chirib, sotib oling.  
4. Do‘kondan bitta mahsulotni o‘chirib, qolgan mahsulotlar ro‘yxatini ekranga chiqaring.

Darsimiz shu bilan tugadi, keyingi darsda esa `Vorisdorlikni chuqurlashtirish: super() bilan ishlash va bazaviy klasslarga murojaat qilish` mavzusini o‘rganamiz. Savollaringiz bo‘lsa, yozib qoldiring yoki keyingi darsda so‘rang! 😊
---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‘r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‘rgandik? Kim aytib bera oladi? (O‘quvchilar javobini kutaman.)

- Qaysi sinflar o‘zaro qanday munosabatda bo‘ldi?  
- Obyektlar o‘zaro munosabatlarni qanday tashkil qildik?  
- Real dunyo muammolarini modellashtirishda OOP qanday yordam berdi?  

Qandaydir tushunmovchilik bo‘ldimi? Savollaringiz bormi? (O‘quvchilar savollarini eshitaman va tushuntiraman.) 😊

---