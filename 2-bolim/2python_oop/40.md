# ğŸ“š Darsning mavzusi: Dunder metodlar: __str__, __repr__, __getitem__, __setitem__, va boshqalar

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va Dunder metodlar haqida | 20 daqiqa       |
| __str__ va __repr__ metodlari | 25 daqiqa       |
| __getitem__ va __setitem__ metodlari | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli boâ€˜lib, oâ€˜quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# ğŸ“– Darsning batafsil rejasi

## 1. Kirish va Dunder metodlar haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! ğŸ˜Š Bugun biz Pythonâ€™da OOP (Obyektga yoâ€˜naltirilgan dasturlash) doirasida **Dunder metodlar** (Double Underscore metodlar) deb ataladigan maxsus metodlarni oâ€˜rganamiz. Dunder metodlar sinf xatti-harakatlarini moslashtirishda ishlatiladi va Pythonâ€™da ichki mexanizmlarni boshqarishga yordam beradi.

**Dunder metodlar nima?**  
Dunder metodlar â€” ikki pastki chiziq bilan yoziladigan maxsus metodlar (masalan, `__init__`, `__str__`). Ular Pythonâ€™da sinfning xatti-harakatlarini oâ€˜zgartirish uchun ishlatiladi. Bugun biz quyidagilarni oâ€˜rganamiz:  
- `__str__` va `__repr__`: Obyektning string koâ€˜rinishini moslashtirish.  
- `__getitem__` va `__setitem__`: Obyektga indeks orqali murojaat qilish.  
- Boshqa foydali dunder metodlar (masalan, `__len__`).  

Oddiy misol bilan boshlaymiz:

```python
class Kitob:
    def __init__(self, nomi):
        self.nomi = nomi

kitob = Kitob("Alpomish")
print(kitob)  # < Kitob object at 0x7f8b5c0 >
```

Bu yerda `print(kitob)` standart koâ€˜rinishda chiqdi, chunki biz maxsus metodni aniqlamadik. Keling, buni oâ€˜zgartirishni oâ€˜rganamiz!

Keling, bir savol: Dunder metodlar qanday hollarda ishlatiladi deb oâ€˜ylaysiz? (Oâ€˜quvchilar javobini kutaman, toâ€˜gâ€˜ri javob boâ€˜lsa: â€œAjoyib, toâ€˜gâ€˜ri!â€ deyman.)

Mashq: Quyidagi vazifani bajaring:  
- `Shaxs` nomli sinf yarating, u `ism` atributiga ega boâ€˜lsin.  
- Bitta shaxs obyekti yarating va uni `print` funksiyasi bilan ekranga chiqaring (standart koâ€˜rinishni koâ€˜ring).  

5 daqiqa vaqt beraman!

---

## 2. __str__ va __repr__ metodlari (25 daqiqa)

Endi `__str__` va `__repr__` metodlarini oâ€˜rganamiz! Bu metodlar obyektning string koâ€˜rinishini moslashtirish uchun ishlatiladi.

### __str__ metodi
`__str__` metodi obyektning oâ€˜qilishi oson boâ€˜lgan string koâ€˜rinishini qaytaradi. Odatda `print()` funksiyasi yoki `str()` chaqirilganda ishlatiladi:

```python
class Kitob:
    def __init__(self, nomi, muallif):
        self.nomi = nomi
        self.muallif = muallif

    def __str__(self):
        return f"Kitob: {self.nomi}, Muallif: {self.muallif}"

kitob = Kitob("Alpomish", "Xalq ertagi")
print(kitob)  # Kitob: Alpomish, Muallif: Xalq ertagi
print(str(kitob))  # Kitob: Alpomish, Muallif: Xalq ertagi
```

### __repr__ metodi
`__repr__` metodi obyektning â€œrasmiyâ€ string koâ€˜rinishini qaytaradi, odatda dasturchilar uchun foydali boâ€˜ladi. Agar `__str__` aniqlanmagan boâ€˜lsa, `print()` `__repr__` ni chaqiradi:

```python
class Kitob:
    def __init__(self, nomi, muallif):
        self.nomi = nomi
        self.muallif = muallif

    def __repr__(self):
        return f"Kitob(nomi='{self.nomi}', muallif='{self.muallif}')"

kitob = Kitob("Alpomish", "Xalq ertagi")
print(kitob)  # Kitob(nomi='Alpomish', muallif='Xalq ertagi')
print(repr(kitob))  # Kitob(nomi='Alpomish', muallif='Xalq ertagi')
```

### __str__ va __repr__ birgalikda
Ikkalasini birgalikda ishlatish mumkin. `__str__` foydalanuvchilar uchun, `__repr__` esa dasturchilar uchun:

```python
class Mashina:
    def __init__(self, model, yil):
        self.model = model
        self.yil = yil

    def __str__(self):
        return f"{self.model} ({self.yil})"

    def __repr__(self):
        return f"Mashina(model='{self.model}', yil={self.yil})"

mashina = Mashina("Chevrolet", 2020)
print(mashina)  # Chevrolet (2020)
print(repr(mashina))  # Mashina(model='Chevrolet', yil=2020)
```

### Farqi nima?
- `__str__`: Foydalanuvchi uchun qulay koâ€˜rinish (odatiy).  
- `__repr__`: Obyektni qayta yaratish uchun aniq maâ€™lumot (dasturchi uchun).  

Mashq: Quyidagi vazifani bajaring:  
- `Talaba` nomli sinf yarating, u `ism` va `kurs` atributlariga ega boâ€˜lsin.  
- `__str__` va `__repr__` metodlarini yozing.  
- Bitta talaba obyekti yarating va uni `print` va `repr` bilan sinab koâ€˜ring.  

5 daqiqa vaqt beraman!

---

## 3. __getitem__ va __setitem__ metodlari (20 daqiqa)

Ajoyib, endi `__getitem__` va `__setitem__` metodlarini oâ€˜rganamiz! Bu metodlar obyektga indeks yoki kalit orqali murojaat qilish imkonini beradi.

### __getitem__ metodi
`__getitem__` metodi obyektga `[]` operator orqali murojaat qilishni taâ€™minlaydi (masalan, `ob[key]`):

```python
class Savatcha:
    def __init__(self):
        self.mahsulotlar = ["Olma", "Nok", "Banan"]

    def __getitem__(self, indeks):
        return self.mahsulotlar[indeks]

savatcha = Savatcha()
print(savatcha[0])  # Olma
print(savatcha[2])  # Banan
```

### __setitem__ metodi
`__setitem__` metodi obyektga `[]` operator yordamida qiymat oâ€˜rnatishni taâ€™minlaydi (masalan, `ob[key] = value`):

```python
class Savatcha:
    def __init__(self):
        self.mahsulotlar = ["Olma", "Nok", "Banan"]

    def __getitem__(self, indeks):
        return self.mahsulotlar[indeks]

    def __setitem__(self, indeks, yangi_mahsulot):
        self.mahsulotlar[indeks] = yangi_mahsulot

savatcha = Savatcha()
print(savatcha[1])  # Nok
savatcha[1] = "Shaftoli"
print(savatcha[1])  # Shaftoli
```

### Kalit sifatida foydalanish
`__getitem__` va `__setitem__` lugâ€˜at kabi kalit-qiymat juftliklari bilan ham ishlaydi:

```python
class Lugat:
    def __init__(self):
        self.data = {}

    def __getitem__(self, kalit):
        return self.data[kalit]

    def __setitem__(self, kalit, qiymat):
        self.data[kalit] = qiymat

lugat = Lugat()
lugat["ism"] = "Ali"
lugat["yosh"] = 20
print(lugat["ism"])  # Ali
print(lugat["yosh"])  # 20
```

### Boshqa foydali dunder metod: __len__
`__len__` metodi obyektning uzunligini qaytaradi:

```python
class Savatcha:
    def __init__(self):
        self.mahsulotlar = ["Olma", "Nok", "Banan"]

    def __len__(self):
        return len(self.mahsulotlar)

savatcha = Savatcha()
print(len(savatcha))  # 3
```

Bu metodlar sinfni yanada moslashuvchan qiladi.

Mashq: Quyidagi vazifani bajaring:  
- `Talabalar` nomli sinf yarating, u talabalar roâ€˜yxatini saqlasin.  
- `__getitem__` va `__setitem__` metodlarini yozing.  
- Bitta talabalar obyekti yarating, indeks orqali talabani oâ€˜zgartirib, natijani ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi oâ€˜rganganlarimizni amalda sinab koâ€˜ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: __str__ va __repr__
- `Mashina` nomli sinf yarating, u `model` va `yil` atributlariga ega boâ€˜lsin.  
- `__str__` va `__repr__` metodlarini yozing.  
- Bitta mashina obyekti yarating va uni `print` va `repr` bilan sinab koâ€˜ring.

```python
class Mashina:
    def __init__(self, model, yil):
        self.model = model
        self.yil = yil

    def __str__(self):
        return f"{self.model} ({self.yil})"

    def __repr__(self):
        return f"Mashina(model='{self.model}', yil={self.yil})"

mashina = Mashina("Toyota", 2022)
print(mashina)  # Toyota (2022)
print(repr(mashina))  # Mashina(model='Toyota', yil=2022)
```

### Mashq 2: __getitem__ va __setitem__
- `Kitoblar` nomli sinf yarating, u kitoblar roâ€˜yxatini saqlasin.  
- `__getitem__` va `__setitem__` metodlarini yozing.  
- Bitta kitoblar obyekti yarating, indeks orqali kitobni oâ€˜zgartirib, natijani ekranga chiqaring.

```python
class Kitoblar:
    def __init__(self):
        self.royxat = ["Alpomish", "Oâ€˜tgan kunlar", "Mehrobdan chayon"]

    def __getitem__(self, indeks):
        return self.royxat[indeks]

    def __setitem__(self, indeks, yangi_kitob):
        self.royxat[indeks] = yangi_kitob

kitoblar = Kitoblar()
print(kitoblar[1])  # Oâ€˜tgan kunlar
kitoblar[1] = "Navoiy"
print(kitoblar[1])  # Navoiy
```

### Mashq 3: Birgalikda foydalanish
- `Talaba` nomli sinf yarating, u `ism` va `baholar` (lugâ€˜at) atributlariga ega boâ€˜lsin.  
- `__str__`, `__getitem__` va `__setitem__` metodlarini yozing.  
- Bitta talaba obyekti yarating, baholarni oâ€˜zgartirib, natijani ekranga chiqaring.

```python
class Talaba:
    def __init__(self, ism):
        self.ism = ism
        self.baholar = {"Matematika": 90, "Fizika": 85}

    def __str__(self):
        return f"Talaba: {self.ism}, Baholar: {self.baholar}"

    def __getitem__(self, fan):
        return self.baholar[fan]

    def __setitem__(self, fan, baho):
        self.baholar[fan] = baho

talaba = Talaba("Ali")
print(talaba)  # Talaba: Ali, Baholar: {'Matematika': 90, 'Fizika': 85}
print(talaba["Matematika"])  # 90
talaba["Matematika"] = 95
talaba["Ingliz tili"] = 88
print(talaba)  # Talaba: Ali, Baholar: {'Matematika': 95, 'Fizika': 85, 'Ingliz tili': 88}
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! ğŸ‰ Bugun biz dunder metodlarni oâ€˜rgandik: `__str__`, `__repr__`, `__getitem__`, `__setitem__` va boshqalar. Bu metodlar sinf xatti-harakatlarini moslashtirishda juda muhim.

Uyga vazifa sifatida quyidagini qiling:  
1. `Shaxs` nomli sinf yarating, u `ism` va `yosh` atributlariga ega boâ€˜lsin.  
   - `__str__` va `__repr__` metodlarini yozing.  
   - Bitta shaxs obyekti yarating va uni `print` va `repr` bilan sinab koâ€˜ring.  
2. `Savatcha` nomli sinf yarating, u mahsulotlar roâ€˜yxatini saqlasin.  
   - `__getitem__` va `__setitem__` metodlarini yozing.  
   - Bitta savatcha obyekti yarating, indeks orqali mahsulotni oâ€˜zgartirib, natijani ekranga chiqaring.  
3. `Talaba` nomli sinf yarating, u `ism` va `fanlar` (lugâ€˜at) atributlariga ega boâ€˜lsin.  
   - `__str__`, `__getitem__`, `__setitem__` va `__len__` metodlarini yozing.  
   - Bitta talaba obyekti yarating, fanlarni oâ€˜zgartirib, natijani ekranga chiqaring.

Darsimiz shu bilan tugadi, keyingi darsda esa `Dekoratorlar bilan ishlash: Class-based dekoratorlar` mavzusini oâ€˜rganamiz. Savollaringiz boâ€˜lsa, yozib qoldiring yoki keyingi darsda soâ€˜rang! ğŸ˜Š
---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zoâ€˜r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni oâ€˜rgandik? Kim aytib bera oladi? (Oâ€˜quvchilar javobini kutaman.)

- `__str__` va `__repr__` oâ€˜rtasidagi farq nima?  
- `__getitem__` va `__setitem__` qanday hollarda foydali?  
- Dunder metodlar qayerda ishlatiladi?  

Qandaydir tushunmovchilik boâ€˜ldimi? Savollaringiz bormi? (Oâ€˜quvchilar savollarini eshitaman va tushuntiraman.) ğŸ˜Š

---