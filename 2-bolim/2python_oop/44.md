# ğŸ“š Darsning mavzusi: OS moduli: Fayl tizimi bilan ishlash, fayllarni boshqarish

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va OS moduli haqida    | 20 daqiqa       |
| Fayl tizimi bilan asosiy amallar | 25 daqiqa       |
| Fayl va papkalarni boshqarish | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli boâ€˜lib, oâ€˜quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# ğŸ“– Darsning batafsil rejasi

## 1. Kirish va OS moduli haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! ğŸ˜Š Bugun biz Pythonâ€™da **os** moduli yordamida fayl tizimi bilan ishlashni va fayllarni boshqarishni oâ€˜rganamiz. Fayl tizimi bilan ishlash loyihalarda, masalan, fayllarni yaratish, oâ€˜chirish yoki papkalar bilan ishlashda juda muhim.

**OS moduli nima?**  
`os` moduli Pythonâ€™ning standart kutubxonasida mavjud boâ€˜lib, operatsion tizim bilan ishlash uchun vositalarni taqdim etadi. U fayl va papkalar bilan ishlash, joriy direktoriyani boshqarish va boshqa tizim amallarini bajarishga yordam beradi. Bugun biz quyidagilarni oâ€˜rganamiz:  
- Fayl tizimida harakatlanish (direktoriyalarni oâ€˜zgartirish, joriy papkani olish).  
- Fayl va papkalarni yaratish, oâ€˜chirish, nomini oâ€˜zgartirish.  
- Fayl haqida maâ€™lumot olish (masalan, hajmi, oâ€˜zgartirilgan vaqti).  

Oddiy misol bilan boshlaymiz:

```python
import os

# Joriy direktoriyani olish
joriy_papka = os.getcwd()
print(f"Joriy papka: {joriy_papka}")
```

Bu yerda `os.getcwd()` joriy ishchi direktoriyani qaytardi.

Keling, bir savol: Fayl tizimi bilan ishlash qanday hollarda kerak boâ€˜ladi deb oâ€˜ylaysiz? (Oâ€˜quvchilar javobini kutaman, toâ€˜gâ€˜ri javob boâ€˜lsa: â€œAjoyib, toâ€˜gâ€˜ri!â€ deyman.)

Mashq: Quyidagi vazifani bajaring:  
- `os` modulini import qiling.  
- Joriy ishchi direktoriyani oling va ekranga chiqaring.  
- `os.name` yordamida operatsion tizim nomini ekranga chiqaring (`nt` â€” Windows, `posix` â€” Linux/Mac).  

5 daqiqa vaqt beraman!

---

## 2. Fayl tizimi bilan asosiy amallar (25 daqiqa)

Endi `os` moduli yordamida fayl tizimi bilan asosiy amallarni oâ€˜rganamiz!

### Direktoriyalarda harakatlanish
`os` moduli direktoriyalarda harakatlanish uchun bir nechta funksiyalarni taqdim etadi:

```python
import os

# Joriy direktoriyani olish
print(f"Joriy papka: {os.getcwd()}")

# Direktoriyani oâ€˜zgartirish
os.chdir("..")  # Bir daraja yuqoriga koâ€˜tarilish
print(f"Yangi papka: {os.getcwd()}")

# Papkadagi fayllarni roâ€˜yxatini olish
fayllar = os.listdir()
print(f"Papkadagi fayllar: {fayllar}")
```

### Fayl yoâ€˜lini boshqarish
`os.path` yordamida fayl yoâ€˜llarini boshqarish oson:

```python
import os

# Fayl yoâ€˜lini birlashtirish
fayl_yoli = os.path.join("papka", "fayl.txt")
print(f"Fayl yoâ€˜li: {fayl_yoli}")  # Fayl yoâ€˜li: papka/fayl.txt (Linux) yoki papka\fayl.txt (Windows)

# Fayl yoâ€˜lining mavjudligini tekshirish
print(os.path.exists("papka"))  # False yoki True

# Fayl yoki papka ekanligini tekshirish
print(os.path.isfile("fayl.txt"))  # False yoki True
print(os.path.isdir("papka"))  # False yoki True
```

### Fayl haqida maâ€™lumot olish
`os.stat` yordamida fayl haqida maâ€™lumot olish mumkin:

```python
import os
import time

# Fayl haqida maâ€™lumot
if os.path.exists("test.txt"):
    info = os.stat("test.txt")
    print(f"Fayl hajmi: {info.st_size} bayt")
    print(f"Oxirgi oâ€˜zgartirilgan: {time.ctime(info.st_mtime)}")
else:
    print("Fayl mavjud emas!")
```

**Eslatma:** Bu darsda biz faqat kodni koâ€˜rib chiqamiz, chunki real fayllarni yaratish va oâ€˜chirish muhitga bogâ€˜liq.

Mashq: Quyidagi vazifani bajaring:  
- Joriy direktoriyadagi fayllar roâ€˜yxatini oling va ekranga chiqaring.  
- `os.path.join` yordamida "maâ€™lumotlar/test.txt" yoâ€˜lini yarating va ekranga chiqaring.  
- Joriy direktoriyani bir daraja yuqoriga oâ€˜zgartirib, yangi direktoriyani ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 3. Fayl va papkalarni boshqarish (20 daqiqa)

Ajoyib, endi fayl va papkalarni boshqarishni oâ€˜rganamiz!

### Papka yaratish va oâ€˜chirish
`os` moduli yordamida papka yaratish va oâ€˜chirish:

```python
import os

# Papka yaratish
if not os.path.exists("yangi_papka"):
    os.mkdir("yangi_papka")
    print("Papka yaratildi!")
else:
    print("Papka allaqachon mavjud!")

# Bir nechta darajali papka yaratish
os.makedirs("yangi_papka/ichki_papka", exist_ok=True)
print("Ichki papka yaratildi!")

# Papkani oâ€˜chirish
# os.rmdir("yangi_papka/ichki_papka")  # Faqat boâ€˜sh papkani oâ€˜chiradi
# print("Ichki papka oâ€˜chirildi!")
```

**Eslatma:** `os.rmdir` faqat boâ€˜sh papkalarni oâ€˜chiradi. Agar papka ichida fayllar boâ€˜lsa, `shutil.rmtree` ishlatiladi (lekin bugun faqat `os` ga eâ€™tibor beramiz).

### Faylni nomini oâ€˜zgartirish va oâ€˜chirish
Fayllarni boshqarish uchun:

```python
import os

# Fayl nomini oâ€˜zgartirish
if os.path.exists("eski.txt"):
    os.rename("eski.txt", "yangi.txt")
    print("Fayl nomi oâ€˜zgartirildi!")
else:
    print("Fayl mavjud emas!")

# Faylni oâ€˜chirish
if os.path.exists("yangi.txt"):
    os.remove("yangi.txt")
    print("Fayl oâ€˜chirildi!")
else:
    print("Fayl mavjud emas!")
```

### Fayl yoâ€˜llarini ajratish
`os.path` yordamida fayl yoâ€˜lini qismlarga ajratish:

```python
import os

fayl_yoli = "papka/ichki/fayl.txt"
papka = os.path.dirname(fayl_yoli)
fayl_nomi = os.path.basename(fayl_yoli)
print(f"Papka: {papka}")  # Papka: papka/ichki
print(f"Fayl nomi: {fayl_nomi}")  # Fayl nomi: fayl.txt

# Fayl kengaytmasini ajratish
ism, kengaytma = os.path.splitext(fayl_nomi)
print(f"Ism: {ism}, Kengaytma: {kengaytma}")  # Ism: fayl, Kengaytma: .txt
```

Mashq: Quyidagi vazifani bajaring:  
- "temp" nomli papka yarating (agar mavjud boâ€˜lmasa).  
- "temp/ichki" nomli ichki papka yarating.  
- "data.txt" yoâ€˜lidan fayl nomini va kengaytmasini ajratib, ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi oâ€˜rganganlarimizni amalda sinab koâ€˜ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: Direktoriyalarda harakatlanish
- Joriy direktoriyani ekranga chiqaring.  
- Direktoriyadagi fayllar roâ€˜yxatini oling va ekranga chiqaring.  
- "test_papka" nomli papka yarating.

```python
import os

print(f"Joriy papka: {os.getcwd()}")
print(f"Fayllar: {os.listdir()}")
if not os.path.exists("test_papka"):
    os.mkdir("test_papka")
    print("Papka yaratildi!")
else:
    print("Papka allaqachon mavjud!")
```

### Mashq 2: Fayl yoâ€˜llarini boshqarish
- "maâ€™lumotlar/fayllar/data.csv" yoâ€˜lini yarating (`os.path.join` ishlating).  
- Yoâ€˜ldan papka va fayl nomini ajrating.  
- Fayl nomidan kengaytmani ajrating.

```python
import os

yoli = os.path.join("maâ€™lumotlar", "fayllar", "data.csv")
papka = os.path.dirname(yoli)
fayl_nomi = os.path.basename(yoli)
ism, kengaytma = os.path.splitext(fayl_nomi)
print(f"Yoâ€˜l: {yoli}")  # Yoâ€˜l: maâ€™lumotlar/fayllar/data.csv
print(f"Papka: {papka}")  # Papka: maâ€™lumotlar/fayllar
print(f"Fayl nomi: {fayl_nomi}")  # Fayl nomi: data.csv
print(f"Ism: {ism}, Kengaytma: {kengaytma}")  # Ism: data, Kengaytma: .csv
```

### Mashq 3: Fayl tizimini boshqarish
- "backup" nomli papka yarating.  
- "backup/2025" nomli ichki papka yarating.  
- Agar "eski.txt" fayli mavjud boâ€˜lsa, uni "eski_backup.txt" ga oâ€˜zgartiring (kodni faqat yozamiz).

```python
import os

# Papka yaratish
if not os.path.exists("backup"):
    os.mkdir("backup")
    print("Backup papkasi yaratildi!")

# Ichki papka yaratish
os.makedirs("backup/2025", exist_ok=True)
print("Ichki papka yaratildi!")

# Fayl nomini oâ€˜zgartirish
if os.path.exists("eski.txt"):
    os.rename("eski.txt", "eski_backup.txt")
    print("Fayl nomi oâ€˜zgartirildi!")
else:
    print("Fayl mavjud emas!")
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! ğŸ‰ Bugun biz `os` moduli yordamida fayl tizimi bilan ishlashni oâ€˜rgandik. Direktoriyalarda harakatlanish, papka va fayllarni boshqarishni koâ€˜rdik.

Uyga vazifa sifatida quyidagini qiling:  
1. Joriy direktoriyani va undagi fayllar roâ€˜yxatini ekranga chiqaring.  
2. "temp/arxiv" nomli papka yarating va uning yoâ€˜lini ekranga chiqaring.  
3. "maâ€™lumotlar/backup/fayl.pdf" yoâ€˜lini yarating:  
   - Yoâ€˜ldan papka va fayl nomini ajrating.  
   - Fayl nomidan kengaytmani ajratib, natijalarni ekranga chiqaring.

Darsimiz shu bilan tugadi, keyingi darsda esa `Fayllar bilan ishlash: Fayllarni oâ€˜qish, yozish va boshqarish (with as konstruktsiyasi)` mavzusini oâ€˜rganamiz. Savollaringiz boâ€˜lsa, yozib qoldiring yoki keyingi darsda soâ€˜rang! ğŸ˜Š

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zoâ€˜r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni oâ€˜rgandik? Kim aytib bera oladi? (Oâ€˜quvchilar javobini kutaman.)

- `os` modulining qaysi funksiyalari foydali boâ€˜ldi?  
- Fayl tizimi bilan ishlashda nimalarga eâ€™tibor berish kerak?  
- `os.path` qanday qulayliklar beradi?  

Qandaydir tushunmovchilik boâ€˜ldimi? Savollaringiz bormi? (Oâ€˜quvchilar savollarini eshitaman va tushuntiraman.) ğŸ˜Š

---