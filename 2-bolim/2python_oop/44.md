# 📚 Darsning mavzusi: OS moduli: Fayl tizimi bilan ishlash, fayllarni boshqarish

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va OS moduli haqida    | 20 daqiqa       |
| Fayl tizimi bilan asosiy amallar | 25 daqiqa       |
| Fayl va papkalarni boshqarish | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‘lib, o‘quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# 📖 Darsning batafsil rejasi

## 1. Kirish va OS moduli haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! 😊 Bugun biz Python’da **os** moduli yordamida fayl tizimi bilan ishlashni va fayllarni boshqarishni o‘rganamiz. Fayl tizimi bilan ishlash loyihalarda, masalan, fayllarni yaratish, o‘chirish yoki papkalar bilan ishlashda juda muhim.

**OS moduli nima?**  
`os` moduli Python’ning standart kutubxonasida mavjud bo‘lib, operatsion tizim bilan ishlash uchun vositalarni taqdim etadi. U fayl va papkalar bilan ishlash, joriy direktoriyani boshqarish va boshqa tizim amallarini bajarishga yordam beradi. Bugun biz quyidagilarni o‘rganamiz:  
- Fayl tizimida harakatlanish (direktoriyalarni o‘zgartirish, joriy papkani olish).  
- Fayl va papkalarni yaratish, o‘chirish, nomini o‘zgartirish.  
- Fayl haqida ma’lumot olish (masalan, hajmi, o‘zgartirilgan vaqti).  

Oddiy misol bilan boshlaymiz:

```python
import os

# Joriy direktoriyani olish
joriy_papka = os.getcwd()
print(f"Joriy papka: {joriy_papka}")
```

Bu yerda `os.getcwd()` joriy ishchi direktoriyani qaytardi.

Keling, bir savol: Fayl tizimi bilan ishlash qanday hollarda kerak bo‘ladi deb o‘ylaysiz? (O‘quvchilar javobini kutaman, to‘g‘ri javob bo‘lsa: “Ajoyib, to‘g‘ri!” deyman.)

Mashq: Quyidagi vazifani bajaring:  
- `os` modulini import qiling.  
- Joriy ishchi direktoriyani oling va ekranga chiqaring.  
- `os.name` yordamida operatsion tizim nomini ekranga chiqaring (`nt` — Windows, `posix` — Linux/Mac).  

5 daqiqa vaqt beraman!

---

## 2. Fayl tizimi bilan asosiy amallar (25 daqiqa)

Endi `os` moduli yordamida fayl tizimi bilan asosiy amallarni o‘rganamiz!

### Direktoriyalarda harakatlanish
`os` moduli direktoriyalarda harakatlanish uchun bir nechta funksiyalarni taqdim etadi:

```python
import os

# Joriy direktoriyani olish
print(f"Joriy papka: {os.getcwd()}")

# Direktoriyani o‘zgartirish
os.chdir("..")  # Bir daraja yuqoriga ko‘tarilish
print(f"Yangi papka: {os.getcwd()}")

# Papkadagi fayllarni ro‘yxatini olish
fayllar = os.listdir()
print(f"Papkadagi fayllar: {fayllar}")
```

### Fayl yo‘lini boshqarish
`os.path` yordamida fayl yo‘llarini boshqarish oson:

```python
import os

# Fayl yo‘lini birlashtirish
fayl_yoli = os.path.join("papka", "fayl.txt")
print(f"Fayl yo‘li: {fayl_yoli}")  # Fayl yo‘li: papka/fayl.txt (Linux) yoki papka\fayl.txt (Windows)

# Fayl yo‘lining mavjudligini tekshirish
print(os.path.exists("papka"))  # False yoki True

# Fayl yoki papka ekanligini tekshirish
print(os.path.isfile("fayl.txt"))  # False yoki True
print(os.path.isdir("papka"))  # False yoki True
```

### Fayl haqida ma’lumot olish
`os.stat` yordamida fayl haqida ma’lumot olish mumkin:

```python
import os
import time

# Fayl haqida ma’lumot
if os.path.exists("test.txt"):
    info = os.stat("test.txt")
    print(f"Fayl hajmi: {info.st_size} bayt")
    print(f"Oxirgi o‘zgartirilgan: {time.ctime(info.st_mtime)}")
else:
    print("Fayl mavjud emas!")
```

**Eslatma:** Bu darsda biz faqat kodni ko‘rib chiqamiz, chunki real fayllarni yaratish va o‘chirish muhitga bog‘liq.

Mashq: Quyidagi vazifani bajaring:  
- Joriy direktoriyadagi fayllar ro‘yxatini oling va ekranga chiqaring.  
- `os.path.join` yordamida "ma’lumotlar/test.txt" yo‘lini yarating va ekranga chiqaring.  
- Joriy direktoriyani bir daraja yuqoriga o‘zgartirib, yangi direktoriyani ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 3. Fayl va papkalarni boshqarish (20 daqiqa)

Ajoyib, endi fayl va papkalarni boshqarishni o‘rganamiz!

### Papka yaratish va o‘chirish
`os` moduli yordamida papka yaratish va o‘chirish:

```python
import os

# Papka yaratish
if not os.path.exists("yangi_papka"):
    os.mkdir("yangi_papka")
    print("Papka yaratildi!")
else:
    print("Papka allaqachon mavjud!")

# Bir nechta darajali papka yaratish
os.makedirs("yangi_papka/ichki_papka", exist_ok=True)
print("Ichki papka yaratildi!")

# Papkani o‘chirish
# os.rmdir("yangi_papka/ichki_papka")  # Faqat bo‘sh papkani o‘chiradi
# print("Ichki papka o‘chirildi!")
```

**Eslatma:** `os.rmdir` faqat bo‘sh papkalarni o‘chiradi. Agar papka ichida fayllar bo‘lsa, `shutil.rmtree` ishlatiladi (lekin bugun faqat `os` ga e’tibor beramiz).

### Faylni nomini o‘zgartirish va o‘chirish
Fayllarni boshqarish uchun:

```python
import os

# Fayl nomini o‘zgartirish
if os.path.exists("eski.txt"):
    os.rename("eski.txt", "yangi.txt")
    print("Fayl nomi o‘zgartirildi!")
else:
    print("Fayl mavjud emas!")

# Faylni o‘chirish
if os.path.exists("yangi.txt"):
    os.remove("yangi.txt")
    print("Fayl o‘chirildi!")
else:
    print("Fayl mavjud emas!")
```

### Fayl yo‘llarini ajratish
`os.path` yordamida fayl yo‘lini qismlarga ajratish:

```python
import os

fayl_yoli = "papka/ichki/fayl.txt"
papka = os.path.dirname(fayl_yoli)
fayl_nomi = os.path.basename(fayl_yoli)
print(f"Papka: {papka}")  # Papka: papka/ichki
print(f"Fayl nomi: {fayl_nomi}")  # Fayl nomi: fayl.txt

# Fayl kengaytmasini ajratish
ism, kengaytma = os.path.splitext(fayl_nomi)
print(f"Ism: {ism}, Kengaytma: {kengaytma}")  # Ism: fayl, Kengaytma: .txt
```

Mashq: Quyidagi vazifani bajaring:  
- "temp" nomli papka yarating (agar mavjud bo‘lmasa).  
- "temp/ichki" nomli ichki papka yarating.  
- "data.txt" yo‘lidan fayl nomini va kengaytmasini ajratib, ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi o‘rganganlarimizni amalda sinab ko‘ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: Direktoriyalarda harakatlanish
- Joriy direktoriyani ekranga chiqaring.  
- Direktoriyadagi fayllar ro‘yxatini oling va ekranga chiqaring.  
- "test_papka" nomli papka yarating.

```python
import os

print(f"Joriy papka: {os.getcwd()}")
print(f"Fayllar: {os.listdir()}")
if not os.path.exists("test_papka"):
    os.mkdir("test_papka")
    print("Papka yaratildi!")
else:
    print("Papka allaqachon mavjud!")
```

### Mashq 2: Fayl yo‘llarini boshqarish
- "ma’lumotlar/fayllar/data.csv" yo‘lini yarating (`os.path.join` ishlating).  
- Yo‘ldan papka va fayl nomini ajrating.  
- Fayl nomidan kengaytmani ajrating.

```python
import os

yoli = os.path.join("ma’lumotlar", "fayllar", "data.csv")
papka = os.path.dirname(yoli)
fayl_nomi = os.path.basename(yoli)
ism, kengaytma = os.path.splitext(fayl_nomi)
print(f"Yo‘l: {yoli}")  # Yo‘l: ma’lumotlar/fayllar/data.csv
print(f"Papka: {papka}")  # Papka: ma’lumotlar/fayllar
print(f"Fayl nomi: {fayl_nomi}")  # Fayl nomi: data.csv
print(f"Ism: {ism}, Kengaytma: {kengaytma}")  # Ism: data, Kengaytma: .csv
```

### Mashq 3: Fayl tizimini boshqarish
- "backup" nomli papka yarating.  
- "backup/2025" nomli ichki papka yarating.  
- Agar "eski.txt" fayli mavjud bo‘lsa, uni "eski_backup.txt" ga o‘zgartiring (kodni faqat yozamiz).

```python
import os

# Papka yaratish
if not os.path.exists("backup"):
    os.mkdir("backup")
    print("Backup papkasi yaratildi!")

# Ichki papka yaratish
os.makedirs("backup/2025", exist_ok=True)
print("Ichki papka yaratildi!")

# Fayl nomini o‘zgartirish
if os.path.exists("eski.txt"):
    os.rename("eski.txt", "eski_backup.txt")
    print("Fayl nomi o‘zgartirildi!")
else:
    print("Fayl mavjud emas!")
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! 🎉 Bugun biz `os` moduli yordamida fayl tizimi bilan ishlashni o‘rgandik. Direktoriyalarda harakatlanish, papka va fayllarni boshqarishni ko‘rdik.

Uyga vazifa sifatida quyidagini qiling:  
1. Joriy direktoriyani va undagi fayllar ro‘yxatini ekranga chiqaring.  
2. "temp/arxiv" nomli papka yarating va uning yo‘lini ekranga chiqaring.  
3. "ma’lumotlar/backup/fayl.pdf" yo‘lini yarating:  
   - Yo‘ldan papka va fayl nomini ajrating.  
   - Fayl nomidan kengaytmani ajratib, natijalarni ekranga chiqaring.

Darsimiz shu bilan tugadi, keyingi darsda esa `Fayllar bilan ishlash: Fayllarni o‘qish, yozish va boshqarish (with as konstruktsiyasi)` mavzusini o‘rganamiz. Savollaringiz bo‘lsa, yozib qoldiring yoki keyingi darsda so‘rang! 😊

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‘r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‘rgandik? Kim aytib bera oladi? (O‘quvchilar javobini kutaman.)

- `os` modulining qaysi funksiyalari foydali bo‘ldi?  
- Fayl tizimi bilan ishlashda nimalarga e’tibor berish kerak?  
- `os.path` qanday qulayliklar beradi?  

Qandaydir tushunmovchilik bo‘ldimi? Savollaringiz bormi? (O‘quvchilar savollarini eshitaman va tushuntiraman.) 😊

---