# ğŸ“š Darsning mavzusi: Fayllar bilan ishlash: Fayllarni oâ€˜qish, yozish va boshqarish (with as konstruktsiyasi)

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va fayllar bilan ishlash haqida | 20 daqiqa       |
| Fayllarni oâ€˜qish va yozish (with as bilan) | 25 daqiqa       |
| Fayllarni boshqarish va xatolarni ushlash | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli boâ€˜lib, oâ€˜quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# ğŸ“– Darsning batafsil rejasi

## 1. Kirish va fayllar bilan ishlash haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! ğŸ˜Š Bugun biz Pythonâ€™da fayllar bilan ishlashni oâ€˜rganamiz. Fayllarni oâ€˜qish, yozish va boshqarish loyihalarda, masalan, maâ€™lumotlarni saqlash yoki log yozishda juda muhimdir. Ayniqsa, `with as` konstruktsiyasidan foydalanib, fayllarni xavfsiz boshqarishni koâ€˜ramiz.

**Fayllar bilan ishlash nima?**  
Pythonâ€™da fayllar bilan ishlash uchun `open()` funksiyasi ishlatiladi. Fayllarni oâ€˜qish, yozish va boshqa amallar uchun turli rejimlar mavjud (masalan, oâ€˜qish uchun `r`, yozish uchun `w`). Bugun biz quyidagilarni oâ€˜rganamiz:  
- `with as` konstruktsiyasi yordamida fayllarni ochish va yopish.  
- Fayllarni oâ€˜qish va yozishning turli usullari.  
- Fayllarni boshqarish va xatolarni ushlash.  

Oddiy misol bilan boshlaymiz:

```python
# Faylga yozish
with open("salom.txt", "w", encoding="utf-8") as fayl:
    fayl.write("Salom, dunyo!")
print("Faylga yozildi!")
```

**Eslatma:** Bu darsda biz faqat kodni koâ€˜rib chiqamiz, chunki real fayl operatsiyalari muhitga bogâ€˜liq.

Keling, bir savol: Fayllar bilan ishlash qanday hollarda kerak boâ€˜ladi deb oâ€˜ylaysiz? (Oâ€˜quvchilar javobini kutaman, toâ€˜gâ€˜ri javob boâ€˜lsa: â€œAjoyib, toâ€˜gâ€˜ri!â€ deyman.)

Mashq: Quyidagi vazifani bajaring:  
- "test.txt" nomli faylga "Assalomu alaykum!" matnini yozing (`with as` ishlating).  
- Kodni yozib, natija haqida oâ€˜ylang (fayl yaratilishini tasavvur qiling).  

5 daqiqa vaqt beraman!

---

## 2. Fayllarni oâ€˜qish va yozish (with as bilan) (25 daqiqa)

Endi fayllarni oâ€˜qish va yozishni `with as` konstruktsiyasi bilan oâ€˜rganamiz!

### `with as` konstruktsiyasi nima?
`with as` konstruktsiyasi faylni ochib, ishlatib boâ€˜lgandan keyin avtomatik yopadi. Bu xavfsiz va qulay usul:

```python
# Faylga yozish
with open("matn.txt", "w", encoding="utf-8") as fayl:
    fayl.write("Bu birinchi qator.\n")
    fayl.write("Bu ikkinchi qator.")
print("Faylga yozildi!")
```

Bu yerda:  
- `w` rejimi faylni yozish uchun ochadi (agar fayl mavjud boâ€˜lsa, ustiga yozadi).  
- `encoding="utf-8"` matnni toâ€˜gâ€˜ri kodlash uchun ishlatiladi.  
- Fayl ishlatib boâ€˜lingandan keyin avtomatik yopiladi.

### Faylni oâ€˜qish
`r` rejimi yordamida faylni oâ€˜qish:

```python
# Faylni oâ€˜qish
with open("matn.txt", "r", encoding="utf-8") as fayl:
    matn = fayl.read()
print(matn)
# Natija:
# Bu birinchi qator.
# Bu ikkinchi qator.
```

### Qatorlarni alohida oâ€˜qish
Faylni qatorlarga boâ€˜lib oâ€˜qish uchun `readlines()` yoki `for` siklidan foydalanamiz:

```python
# Qatorlarni roâ€˜yxat sifatida oâ€˜qish
with open("matn.txt", "r", encoding="utf-8") as fayl:
    qatorlar = fayl.readlines()
print(qatorlar)  # ['Bu birinchi qator.\n', 'Bu ikkinchi qator.']

# For sikli bilan oâ€˜qish
with open("matn.txt", "r", encoding="utf-8") as fayl:
    for qator in fayl:
        print(qator.strip())  # strip() qator oxiridagi \n ni olib tashlaydi
# Natija:
# Bu birinchi qator.
# Bu ikkinchi qator.
```

### Faylga qoâ€˜shimcha yozish
`a` (append) rejimi yordamida fayl oxiriga yozish:

```python
# Faylga qoâ€˜shimcha yozish
with open("matn.txt", "a", encoding="utf-8") as fayl:
    fayl.write("\nBu uchinchi qator.")
print("Faylga qoâ€˜shildi!")
```

**Rejimlar:**  
- `r`: Oâ€˜qish (standart rejim).  
- `w`: Yozish (faylni qayta yaratadi).  
- `a`: Qoâ€˜shimcha yozish (fayl oxiriga yozadi).  
- `r+`: Oâ€˜qish va yozish.  

Mashq: Quyidagi vazifani bajaring:  
- "qaydnoma.txt" nomli faylga "Bugun dars boâ€˜ldi." matnini yozing.  
- Fayl oxiriga "Dars juda qiziqarli edi!" matnini qoâ€˜shing (`a` rejimi bilan).  
- Faylni oâ€˜qib, matnni ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 3. Fayllarni boshqarish va xatolarni ushlash (20 daqiqa)

Ajoyib, endi fayllarni boshqarish va xatolarni ushlashni oâ€˜rganamiz!

### Faylning mavjudligini tekshirish
Fayl bilan ishlashdan oldin uning mavjudligini tekshirish uchun `os.path` ishlatamiz:

```python
import os.path

fayl_nomi = "matn.txt"
if os.path.exists(fayl_nomi):
    with open(fayl_nomi, "r", encoding="utf-8") as fayl:
        print(fayl.read())
else:
    print("Fayl mavjud emas!")
```

### Xatolarni ushlash
Fayl bilan ishlashda xatolarni ushlash uchun `try-except` ishlatamiz:

```python
fayl_nomi = "mavjud_emas.txt"
try:
    with open(fayl_nomi, "r", encoding="utf-8") as fayl:
        matn = fayl.read()
        print(matn)
except FileNotFoundError:
    print(f"Xato: {fayl_nomi} fayli topilmadi!")
except IOError:
    print("Faylni oâ€˜qish/yozishda xato yuz berdi!")
# Natija:
# Xato: mavjud_emas.txt fayli topilmadi!
```

### Faylni qator-qator yozish
`writelines()` yordamida roâ€˜yxatni faylga yozish:

```python
qatorlar = ["Birinchi qator.\n", "Ikkinchi qator.\n", "Uchinchi qator.\n"]
with open("qatorlar.txt", "w", encoding="utf-8") as fayl:
    fayl.writelines(qatorlar)
print("Qatorlar yozildi!")
```

### Katta fayllarni oâ€˜qish
Katta fayllarni oâ€˜qishda `read()` oâ€˜rniga qator-qator oâ€˜qish samarali:

```python
try:
    with open("katta_fayl.txt", "r", encoding="utf-8") as fayl:
        for qator in fayl:
            print(qator.strip())
except FileNotFoundError:
    print("Fayl topilmadi!")
```

Mashq: Quyidagi vazifani bajaring:  
- "log.txt" nomli faylga 3 ta qator matn yozing (`writelines` ishlating).  
- Faylni qator-qator oâ€˜qib, har bir qatorni ekranga chiqaring.  
- Mavjud boâ€˜lmagan faylni oâ€˜qishga urinib, xatoni ushlang.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi oâ€˜rganganlarimizni amalda sinab koâ€˜ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: Faylga yozish va oâ€˜qish
- "eslatma.txt" nomli faylga "Bugun Python darsi boâ€˜ldi." matnini yozing.  
- Faylni oâ€˜qib, matnni ekranga chiqaring.

```python
# Yozish
with open("eslatma.txt", "w", encoding="utf-8") as fayl:
    fayl.write("Bugun Python darsi boâ€˜ldi.")
print("Faylga yozildi!")

# Oâ€˜qish
with open("eslatma.txt", "r", encoding="utf-8") as fayl:
    matn = fayl.read()
print(matn)
# Natija:
# Bugun Python darsi boâ€˜ldi.
```

### Mashq 2: Qoâ€˜shimcha yozish va qator-qator oâ€˜qish
- "todo.txt" nomli faylga "1. Darsni takrorlash" matnini yozing.  
- Faylga "2. Uy vazifasini bajarish" matnini qoâ€˜shing (`a` rejimi bilan).  
- Faylni qator-qator oâ€˜qib, har bir qatorni ekranga chiqaring.

```python
# Yozish
with open("todo.txt", "w", encoding="utf-8") as fayl:
    fayl.write("1. Darsni takrorlash\n")
print("Faylga yozildi!")

# Qoâ€˜shimcha yozish
with open("todo.txt", "a", encoding="utf-8") as fayl:
    fayl.write("2. Uy vazifasini bajarish\n")
print("Faylga qoâ€˜shildi!")

# Qator-qator oâ€˜qish
with open("todo.txt", "r", encoding="utf-8") as fayl:
    for qator in fayl:
        print(qator.strip())
# Natija:
# 1. Darsni takrorlash
# 2. Uy vazifasini bajarish
```

### Mashq 3: Xatolarni ushlash
- "mavjud_emas.txt" nomli faylni oâ€˜qishga urining va xatoni ushlang.  
- "loglar.txt" nomli faylga 3 ta qator yozing va agar xato yuz bersa, xabarni ekranga chiqaring.

```python
# Xatolarni ushlash
try:
    with open("mavjud_emas.txt", "r", encoding="utf-8") as fayl:
        print(fayl.read())
except FileNotFoundError:
    print("Fayl topilmadi!")
# Natija:
# Fayl topilmadi!

# Yozishda xatolarni ushlash
try:
    qatorlar = ["Log 1\n", "Log 2\n", "Log 3\n"]
    with open("loglar.txt", "w", encoding="utf-8") as fayl:
        fayl.writelines(qatorlar)
    print("Loglar yozildi!")
except IOError:
    print("Faylga yozishda xato yuz berdi!")
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! ğŸ‰ Bugun biz fayllar bilan ishlashni oâ€˜rgandik. `with as` konstruktsiyasi yordamida fayllarni oâ€˜qish, yozish va boshqarishni, shuningdek, xatolarni ushlashni koâ€˜rdik.

Uyga vazifa sifatida quyidagini qiling:  
1. "notes.txt" nomli faylga "Bugun yangi dars oâ€˜tdik." matnini yozing.  
   - Faylga "Dars juda foydali boâ€˜ldi!" matnini qoâ€˜shing (`a` rejimi bilan).  
   - Faylni oâ€˜qib, matnni ekranga chiqaring.  
2. "jurnal.txt" nomli faylga 4 ta qator matn yozing (`writelines` ishlating).  
   - Faylni qator-qator oâ€˜qib, har bir qatorni ekranga chiqaring.  
3. "xato.txt" nomli faylni oâ€˜qishga urining:  
   - Agar fayl mavjud boâ€˜lmasa, xatoni ushlab, ekranga xabar chiqaring.  

Darsimiz shu bilan tugadi, keyingi darsda esa `JSON moduli: Maâ€™lumotlarni oâ€˜qish va yozish, parsing` mavzusini oâ€˜rganamiz. Savollaringiz boâ€˜lsa, yozib qoldiring yoki keyingi darsda soâ€˜rang! ğŸ˜Š

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zoâ€˜r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni oâ€˜rgandik? Kim aytib bera oladi? (Oâ€˜quvchilar javobini kutaman.)

- `with as` konstruktsiyasi qanday ishlaydi?  
- Fayl rejimlari qanday farq qiladi?  
- Fayl bilan ishlashda qanday xatolarga duch kelish mumkin?  

Qandaydir tushunmovchilik boâ€˜ldimi? Savollaringiz bormi? (Oâ€˜quvchilar savollarini eshitaman va tushuntiraman.) ğŸ˜Š

---