# ğŸ“š Darsning mavzusi: JSON moduli: Maâ€™lumotlarni oâ€˜qish va yozish, parsing

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va JSON moduli haqida  | 20 daqiqa       |
| JSON maâ€™lumotlarni yozish va oâ€˜qish | 25 daqiqa       |
| JSON parsing va murakkab maâ€™lumotlar | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli boâ€˜lib, oâ€˜quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# ğŸ“– Darsning batafsil rejasi

## 1. Kirish va JSON moduli haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! ğŸ˜Š Bugun biz Pythonâ€™da **json** moduli yordamida JSON maâ€™lumotlarni oâ€˜qish, yozish va tahlil qilishni (parsing) oâ€˜rganamiz. JSON (JavaScript Object Notation) maâ€™lumotlarni saqlash va almashish uchun eng mashhur formatlardan biri hisoblanadi.

**JSON moduli nima?**  
`json` moduli Pythonâ€™ning standart kutubxonasida mavjud boâ€˜lib, JSON maâ€™lumotlarni Python obyektlariga aylantirish (deserialization) va Python obyektlarini JSON formatiga oâ€˜tkazish (serialization) uchun ishlatiladi. Bugun biz quyidagilarni oâ€˜rganamiz:  
- JSON maâ€™lumotlarni faylga yozish va undan oâ€˜qish.  
- JSON stringlarni tahlil qilish (parsing).  
- Murakkab JSON maâ€™lumotlar bilan ishlash.  

Oddiy misol bilan boshlaymiz:

```python
import json

# Python lugâ€˜atini JSON stringga aylantirish
data = {"ism": "Ali", "yosh": 20}
json_str = json.dumps(data)
print(json_str)  # {"ism": "Ali", "yosh": 20}
```

Bu yerda `json.dumps()` Python lugâ€˜atini JSON stringga aylantirdi.

Keling, bir savol: JSON formatidan qanday hollarda foydalanamiz deb oâ€˜ylaysiz? (Oâ€˜quvchilar javobini kutaman, toâ€˜gâ€˜ri javob boâ€˜lsa: â€œAjoyib, toâ€˜gâ€˜ri!â€ deyman.)

Mashq: Quyidagi vazifani bajaring:  
- `json` modulini import qiling.  
- `{"kurs": "Python", "daraja": 1}` lugâ€˜atini JSON stringga aylantiring va ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 2. JSON maâ€™lumotlarni yozish va oâ€˜qish (25 daqiqa)

Endi JSON maâ€™lumotlarni faylga yozish va undan oâ€˜qishni oâ€˜rganamiz!

### Pythonâ€™dan JSONâ€™ga aylantirish (Serialization)
`json.dumps()` yordamida Python obyektlarini JSON stringga aylantirish:

```python
import json

data = {
    "ism": "Zilola",
    "yosh": 22,
    "talaba": True,
    "fanlar": ["Matematika", "Fizika"]
}
json_str = json.dumps(data, indent=4)  # indent=4 bilan chiroyli formatlash
print(json_str)
# Natija:
# {
#     "ism": "Zilola",
#     "yosh": 22,
#     "talaba": true,
#     "fanlar": [
#         "Matematika",
#         "Fizika"
#     ]
# }
```

### JSONâ€™ni faylga yozish
`json.dump()` yordamida maâ€™lumotlarni faylga yozish:

```python
import json

data = {
    "ism": "Zilola",
    "yosh": 22,
    "talaba": True,
    "fanlar": ["Matematika", "Fizika"]
}

# Faylga yozish
with open("data.json", "w", encoding="utf-8") as fayl:
    json.dump(data, fayl, indent=4)
print("Maâ€™lumotlar faylga yozildi!")
```

**Eslatma:** Bu darsda biz faqat kodni koâ€˜rib chiqamiz, chunki real fayl operatsiyalari muhitga bogâ€˜liq.

### JSONâ€™ni fayldan oâ€˜qish
`json.load()` yordamida JSON fayldan maâ€™lumotlarni oâ€˜qish:

```python
import json

# Fayldan oâ€˜qish
with open("data.json", "r", encoding="utf-8") as fayl:
    data = json.load(fayl)
print(data)  # {'ism': 'Zilola', 'yosh': 22, 'talaba': True, 'fanlar': ['Matematika', 'Fizika']}
print(data["ism"])  # Zilola
```

### JSON stringdan oâ€˜qish (Deserialization)
`json.loads()` yordamida JSON stringni Python obyektiga aylantirish:

```python
import json

json_str = '{"ism": "Vali", "yosh": 25}'
data = json.loads(json_str)
print(data)  # {'ism': 'Vali', 'yosh': 25}
print(data["yosh"])  # 25
```

Mashq: Quyidagi vazifani bajaring:  
- `{"kurs": "Python", "daraja": 2, "talabalar": ["Ali", "Vali"]}` lugâ€˜atini JSON stringga aylantiring (indent=2 bilan).  
- Yuqoridagi JSON stringni Python lugâ€˜atiga qaytaring va "talabalar" roâ€˜yxatini ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 3. JSON parsing va murakkab maâ€™lumotlar (20 daqiqa)

Ajoyib, endi JSON maâ€™lumotlarni tahlil qilish (parsing) va murakkab maâ€™lumotlar bilan ishlashni oâ€˜rganamiz!

### Murakkab JSON maâ€™lumotlar
Ichma-ich JSON maâ€™lumotlarni tahlil qilish:

```python
import json

json_str = '''
{
    "maktab": "10-maktab",
    "sinflar": [
        {
            "sinf": "9-A",
            "oquvchilar": [
                {"ism": "Ali", "baho": 5},
                {"ism": "Zilola", "baho": 4}
            ]
        },
        {
            "sinf": "9-B",
            "oquvchilar": [
                {"ism": "Vali", "baho": 3}
            ]
        }
    ]
}
'''

# JSONâ€™ni Python obyektiga aylantirish
data = json.loads(json_str)

# Maâ€™lumotlarni tahlil qilish
print(f"Maktab: {data['maktab']}")  # Maktab: 10-maktab
for sinf in data["sinflar"]:
    print(f"Sinf: {sinf['sinf']}")
    for oquvchi in sinf["oquvchilar"]:
        print(f"  Oâ€˜quvchi: {oquvchi['ism']}, Baho: {oquvchi['baho']}")
# Natija:
# Maktab: 10-maktab
# Sinf: 9-A
#   Oâ€˜quvchi: Ali, Baho: 5
#   Oâ€˜quvchi: Zilola, Baho: 4
# Sinf: 9-B
#   Oâ€˜quvchi: Vali, Baho: 3
```

### JSON xatolarini boshqarish
JSON parsingda xatolarni ushlash uchun `try-except` ishlatamiz:

```python
import json

json_str = '{"ism": "Ali", "yosh": 20'  # Notoâ€˜gâ€˜ri JSON (qavs yopilmagan)

try:
    data = json.loads(json_str)
    print(data)
except json.JSONDecodeError as xato:
    print(f"Xato: {xato}")  # Xato: Expecting ',' delimiter: line 1 column 21 (char 20)
```

### Maxsus maâ€™lumot turlari
JSONâ€™da baâ€™zi Python turlari (masalan, `tuple`, `set`) toâ€˜gâ€˜ridan-toâ€˜gâ€˜ri qoâ€˜llab-quvvatlanmaydi:

```python
import json

data = {
    "ism": "Ali",
    "fanlar": ["Matematika", "Fizika"],  # Roâ€˜yxat ishlaydi
    "ballar": (90, 85)  # Tuple JSONâ€™da roâ€˜yxatga aylanadi
}

json_str = json.dumps(data)
print(json_str)  # {"ism": "Ali", "fanlar": ["Matematika", "Fizika"], "ballar": [90, 85]}

# Qayta oâ€˜qish
data2 = json.loads(json_str)
print(data2["ballar"])  # [90, 85] (tuple emas, roâ€˜yxat)
```

Mashq: Quyidagi vazifani bajaring:  
- Quyidagi JSON stringni tahlil qiling:  
  `{"talaba": {"ism": "Ali", "fanlar": {"Matematika": 5, "Fizika": 4}}}`  
- Talabaning ismini va fanlarini ekranga chiqaring.  
- Notoâ€˜gâ€˜ri JSON stringni tahlil qilishga urinib, xatoni ushlang.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi oâ€˜rganganlarimizni amalda sinab koâ€˜ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: JSON yozish
- `{"maktab": "5-maktab", "oquvchilar": [{"ism": "Ali", "yosh": 15}, {"ism": "Zilola", "yosh": 14}]}` lugâ€˜atini JSON stringga aylantiring (indent=2 bilan).  
- Natijani ekranga chiqaring.

```python
import json

data = {
    "maktab": "5-maktab",
    "oquvchilar": [
        {"ism": "Ali", "yosh": 15},
        {"ism": "Zilola", "yosh": 14}
    ]
}
json_str = json.dumps(data, indent=2)
print(json_str)
# Natija:
# {
#   "maktab": "5-maktab",
#   "oquvchilar": [
#     {
#       "ism": "Ali",
#       "yosh": 15
#     },
#     {
#       "ism": "Zilola",
#       "yosh": 14
#     }
#   ]
# }
```

### Mashq 2: JSON oâ€˜qish va tahlil qilish
- Quyidagi JSON stringni tahlil qiling:  
  `{"kurs": "Python", "modullar": [{"nomi": "Asoslar", "soat": 10}, {"nomi": "OOP", "soat": 15}]}`  
- Kurs nomini va har bir modulning nomi va soatini ekranga chiqaring.

```python
import json

json_str = '{"kurs": "Python", "modullar": [{"nomi": "Asoslar", "soat": 10}, {"nomi": "OOP", "soat": 15}]}'
data = json.loads(json_str)
print(f"Kurs: {data['kurs']}")
for modul in data["modullar"]:
    print(f"Modul: {modul['nomi']}, Soat: {modul['soat']}")
# Natija:
# Kurs: Python
# Modul: Asoslar, Soat: 10
# Modul: OOP, Soat: 15
```

### Mashq 3: Xatolarni boshqarish
- Quyidagi notoâ€˜gâ€˜ri JSON stringni tahlil qilishga urining va xatoni ushlang:  
  `{"ism": "Ali", "yosh": 20`  
- Xato haqida xabar chiqaring.

```python
import json

json_str = '{"ism": "Ali", "yosh": 20'
try:
    data = json.loads(json_str)
    print(data)
except json.JSONDecodeError as xato:
    print(f"Xato: {xato}")
# Natija:
# Xato: Expecting ',' delimiter: line 1 column 20 (char 19)
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! ğŸ‰ Bugun biz `json` moduli yordamida JSON maâ€™lumotlarni oâ€˜qish, yozish va tahlil qilishni oâ€˜rgandik. Serialization, deserialization va murakkab maâ€™lumotlar bilan ishlashni koâ€˜rdik.

Uyga vazifa sifatida quyidagini qiling:  
1. `{"sinf": "10-A", "oquvchilar": [{"ism": "Vali", "baho": 5}, {"ism": "Zilola", "baho": 4}]}` lugâ€˜atini JSON stringga aylantiring (indent=4 bilan).  
2. Quyidagi JSON stringni tahlil qiling va maâ€™lumotlarni ekranga chiqaring:  
   `{"doâ€˜kon": "TechShop", "mahsulotlar": [{"nomi": "Telefon", "narx": 500}, {"nomi": "Noutbuk", "narx": 1000}]}`  
   - Doâ€˜kon nomini va har bir mahsulotning nomi va narxini chiqaring.  
3. Notoâ€˜gâ€˜ri JSON string yarating (masalan, `{"ism": "Ali"`), uni tahlil qilishga urining va xatoni ushlab, ekranga xabar chiqaring.

Darsimiz shu bilan tugadi, keyingi darsda esa `Memory Management boshlang'ich umumiy tushunchalar` mavzusini oâ€˜rganamiz. Savollaringiz boâ€˜lsa, yozib qoldiring yoki keyingi darsda soâ€˜rang! ğŸ˜Š

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zoâ€˜r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni oâ€˜rgandik? Kim aytib bera oladi? (Oâ€˜quvchilar javobini kutaman.)

- JSON moduli qanday ishlaydi?  
- `dumps` va `loads` oâ€˜rtasidagi farq nima?  
- JSON parsingda qanday xatolarga duch kelish mumkin?  

Qandaydir tushunmovchilik boâ€˜ldimi? Savollaringiz bormi? (Oâ€˜quvchilar savollarini eshitaman va tushuntiraman.) ğŸ˜Š

---