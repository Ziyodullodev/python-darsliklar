# 📚 Darsning mavzusi: JSON moduli: Ma’lumotlarni o‘qish va yozish, parsing

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va JSON moduli haqida  | 20 daqiqa       |
| JSON ma’lumotlarni yozish va o‘qish | 25 daqiqa       |
| JSON parsing va murakkab ma’lumotlar | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‘lib, o‘quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# 📖 Darsning batafsil rejasi

## 1. Kirish va JSON moduli haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! 😊 Bugun biz Python’da **json** moduli yordamida JSON ma’lumotlarni o‘qish, yozish va tahlil qilishni (parsing) o‘rganamiz. JSON (JavaScript Object Notation) ma’lumotlarni saqlash va almashish uchun eng mashhur formatlardan biri hisoblanadi.

**JSON moduli nima?**  
`json` moduli Python’ning standart kutubxonasida mavjud bo‘lib, JSON ma’lumotlarni Python obyektlariga aylantirish (deserialization) va Python obyektlarini JSON formatiga o‘tkazish (serialization) uchun ishlatiladi. Bugun biz quyidagilarni o‘rganamiz:  
- JSON ma’lumotlarni faylga yozish va undan o‘qish.  
- JSON stringlarni tahlil qilish (parsing).  
- Murakkab JSON ma’lumotlar bilan ishlash.  

Oddiy misol bilan boshlaymiz:

```python
import json

# Python lug‘atini JSON stringga aylantirish
data = {"ism": "Ali", "yosh": 20}
json_str = json.dumps(data)
print(json_str)  # {"ism": "Ali", "yosh": 20}
```

Bu yerda `json.dumps()` Python lug‘atini JSON stringga aylantirdi.

Keling, bir savol: JSON formatidan qanday hollarda foydalanamiz deb o‘ylaysiz? (O‘quvchilar javobini kutaman, to‘g‘ri javob bo‘lsa: “Ajoyib, to‘g‘ri!” deyman.)

Mashq: Quyidagi vazifani bajaring:  
- `json` modulini import qiling.  
- `{"kurs": "Python", "daraja": 1}` lug‘atini JSON stringga aylantiring va ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 2. JSON ma’lumotlarni yozish va o‘qish (25 daqiqa)

Endi JSON ma’lumotlarni faylga yozish va undan o‘qishni o‘rganamiz!

### Python’dan JSON’ga aylantirish (Serialization)
`json.dumps()` yordamida Python obyektlarini JSON stringga aylantirish:

```python
import json

data = {
    "ism": "Zilola",
    "yosh": 22,
    "talaba": True,
    "fanlar": ["Matematika", "Fizika"]
}
json_str = json.dumps(data, indent=4)  # indent=4 bilan chiroyli formatlash
print(json_str)
# Natija:
# {
#     "ism": "Zilola",
#     "yosh": 22,
#     "talaba": true,
#     "fanlar": [
#         "Matematika",
#         "Fizika"
#     ]
# }
```

### JSON’ni faylga yozish
`json.dump()` yordamida ma’lumotlarni faylga yozish:

```python
import json

data = {
    "ism": "Zilola",
    "yosh": 22,
    "talaba": True,
    "fanlar": ["Matematika", "Fizika"]
}

# Faylga yozish
with open("data.json", "w", encoding="utf-8") as fayl:
    json.dump(data, fayl, indent=4)
print("Ma’lumotlar faylga yozildi!")
```

**Eslatma:** Bu darsda biz faqat kodni ko‘rib chiqamiz, chunki real fayl operatsiyalari muhitga bog‘liq.

### JSON’ni fayldan o‘qish
`json.load()` yordamida JSON fayldan ma’lumotlarni o‘qish:

```python
import json

# Fayldan o‘qish
with open("data.json", "r", encoding="utf-8") as fayl:
    data = json.load(fayl)
print(data)  # {'ism': 'Zilola', 'yosh': 22, 'talaba': True, 'fanlar': ['Matematika', 'Fizika']}
print(data["ism"])  # Zilola
```

### JSON stringdan o‘qish (Deserialization)
`json.loads()` yordamida JSON stringni Python obyektiga aylantirish:

```python
import json

json_str = '{"ism": "Vali", "yosh": 25}'
data = json.loads(json_str)
print(data)  # {'ism': 'Vali', 'yosh': 25}
print(data["yosh"])  # 25
```

Mashq: Quyidagi vazifani bajaring:  
- `{"kurs": "Python", "daraja": 2, "talabalar": ["Ali", "Vali"]}` lug‘atini JSON stringga aylantiring (indent=2 bilan).  
- Yuqoridagi JSON stringni Python lug‘atiga qaytaring va "talabalar" ro‘yxatini ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 3. JSON parsing va murakkab ma’lumotlar (20 daqiqa)

Ajoyib, endi JSON ma’lumotlarni tahlil qilish (parsing) va murakkab ma’lumotlar bilan ishlashni o‘rganamiz!

### Murakkab JSON ma’lumotlar
Ichma-ich JSON ma’lumotlarni tahlil qilish:

```python
import json

json_str = '''
{
    "maktab": "10-maktab",
    "sinflar": [
        {
            "sinf": "9-A",
            "oquvchilar": [
                {"ism": "Ali", "baho": 5},
                {"ism": "Zilola", "baho": 4}
            ]
        },
        {
            "sinf": "9-B",
            "oquvchilar": [
                {"ism": "Vali", "baho": 3}
            ]
        }
    ]
}
'''

# JSON’ni Python obyektiga aylantirish
data = json.loads(json_str)

# Ma’lumotlarni tahlil qilish
print(f"Maktab: {data['maktab']}")  # Maktab: 10-maktab
for sinf in data["sinflar"]:
    print(f"Sinf: {sinf['sinf']}")
    for oquvchi in sinf["oquvchilar"]:
        print(f"  O‘quvchi: {oquvchi['ism']}, Baho: {oquvchi['baho']}")
# Natija:
# Maktab: 10-maktab
# Sinf: 9-A
#   O‘quvchi: Ali, Baho: 5
#   O‘quvchi: Zilola, Baho: 4
# Sinf: 9-B
#   O‘quvchi: Vali, Baho: 3
```

### JSON xatolarini boshqarish
JSON parsingda xatolarni ushlash uchun `try-except` ishlatamiz:

```python
import json

json_str = '{"ism": "Ali", "yosh": 20'  # Noto‘g‘ri JSON (qavs yopilmagan)

try:
    data = json.loads(json_str)
    print(data)
except json.JSONDecodeError as xato:
    print(f"Xato: {xato}")  # Xato: Expecting ',' delimiter: line 1 column 21 (char 20)
```

### Maxsus ma’lumot turlari
JSON’da ba’zi Python turlari (masalan, `tuple`, `set`) to‘g‘ridan-to‘g‘ri qo‘llab-quvvatlanmaydi:

```python
import json

data = {
    "ism": "Ali",
    "fanlar": ["Matematika", "Fizika"],  # Ro‘yxat ishlaydi
    "ballar": (90, 85)  # Tuple JSON’da ro‘yxatga aylanadi
}

json_str = json.dumps(data)
print(json_str)  # {"ism": "Ali", "fanlar": ["Matematika", "Fizika"], "ballar": [90, 85]}

# Qayta o‘qish
data2 = json.loads(json_str)
print(data2["ballar"])  # [90, 85] (tuple emas, ro‘yxat)
```

Mashq: Quyidagi vazifani bajaring:  
- Quyidagi JSON stringni tahlil qiling:  
  `{"talaba": {"ism": "Ali", "fanlar": {"Matematika": 5, "Fizika": 4}}}`  
- Talabaning ismini va fanlarini ekranga chiqaring.  
- Noto‘g‘ri JSON stringni tahlil qilishga urinib, xatoni ushlang.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi o‘rganganlarimizni amalda sinab ko‘ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: JSON yozish
- `{"maktab": "5-maktab", "oquvchilar": [{"ism": "Ali", "yosh": 15}, {"ism": "Zilola", "yosh": 14}]}` lug‘atini JSON stringga aylantiring (indent=2 bilan).  
- Natijani ekranga chiqaring.

```python
import json

data = {
    "maktab": "5-maktab",
    "oquvchilar": [
        {"ism": "Ali", "yosh": 15},
        {"ism": "Zilola", "yosh": 14}
    ]
}
json_str = json.dumps(data, indent=2)
print(json_str)
# Natija:
# {
#   "maktab": "5-maktab",
#   "oquvchilar": [
#     {
#       "ism": "Ali",
#       "yosh": 15
#     },
#     {
#       "ism": "Zilola",
#       "yosh": 14
#     }
#   ]
# }
```

### Mashq 2: JSON o‘qish va tahlil qilish
- Quyidagi JSON stringni tahlil qiling:  
  `{"kurs": "Python", "modullar": [{"nomi": "Asoslar", "soat": 10}, {"nomi": "OOP", "soat": 15}]}`  
- Kurs nomini va har bir modulning nomi va soatini ekranga chiqaring.

```python
import json

json_str = '{"kurs": "Python", "modullar": [{"nomi": "Asoslar", "soat": 10}, {"nomi": "OOP", "soat": 15}]}'
data = json.loads(json_str)
print(f"Kurs: {data['kurs']}")
for modul in data["modullar"]:
    print(f"Modul: {modul['nomi']}, Soat: {modul['soat']}")
# Natija:
# Kurs: Python
# Modul: Asoslar, Soat: 10
# Modul: OOP, Soat: 15
```

### Mashq 3: Xatolarni boshqarish
- Quyidagi noto‘g‘ri JSON stringni tahlil qilishga urining va xatoni ushlang:  
  `{"ism": "Ali", "yosh": 20`  
- Xato haqida xabar chiqaring.

```python
import json

json_str = '{"ism": "Ali", "yosh": 20'
try:
    data = json.loads(json_str)
    print(data)
except json.JSONDecodeError as xato:
    print(f"Xato: {xato}")
# Natija:
# Xato: Expecting ',' delimiter: line 1 column 20 (char 19)
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! 🎉 Bugun biz `json` moduli yordamida JSON ma’lumotlarni o‘qish, yozish va tahlil qilishni o‘rgandik. Serialization, deserialization va murakkab ma’lumotlar bilan ishlashni ko‘rdik.

Uyga vazifa sifatida quyidagini qiling:  
1. `{"sinf": "10-A", "oquvchilar": [{"ism": "Vali", "baho": 5}, {"ism": "Zilola", "baho": 4}]}` lug‘atini JSON stringga aylantiring (indent=4 bilan).  
2. Quyidagi JSON stringni tahlil qiling va ma’lumotlarni ekranga chiqaring:  
   `{"do‘kon": "TechShop", "mahsulotlar": [{"nomi": "Telefon", "narx": 500}, {"nomi": "Noutbuk", "narx": 1000}]}`  
   - Do‘kon nomini va har bir mahsulotning nomi va narxini chiqaring.  
3. Noto‘g‘ri JSON string yarating (masalan, `{"ism": "Ali"`), uni tahlil qilishga urining va xatoni ushlab, ekranga xabar chiqaring.

Darsimiz shu bilan tugadi, keyingi darsda esa `Memory Management boshlang'ich umumiy tushunchalar` mavzusini o‘rganamiz. Savollaringiz bo‘lsa, yozib qoldiring yoki keyingi darsda so‘rang! 😊

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‘r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‘rgandik? Kim aytib bera oladi? (O‘quvchilar javobini kutaman.)

- JSON moduli qanday ishlaydi?  
- `dumps` va `loads` o‘rtasidagi farq nima?  
- JSON parsingda qanday xatolarga duch kelish mumkin?  

Qandaydir tushunmovchilik bo‘ldimi? Savollaringiz bormi? (O‘quvchilar savollarini eshitaman va tushuntiraman.) 😊

---