---

# ðŸ“š Darsning mavzusi: PostgreSQL Kirish

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va PostgreSQL haqida   | 20 daqiqa       |
| PostgreSQL oâ€˜rnatish va asosiy soâ€˜rovlar | 25 daqiqa       |
| Python bilan PostgreSQL ulanish | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli boâ€˜lib, oâ€˜quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# ðŸ“– Darsning batafsil rejasi

## 1. Kirish va PostgreSQL haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! ðŸ˜Š Bugun biz **PostgreSQL** deb nomlangan kuchli va mashhur maâ€™lumotlar bazasi tizimi bilan tanishamiz. PostgreSQL loyihalarda maâ€™lumotlarni tartibli saqlash va murakkab soâ€˜rovlar bilan ishlash uchun juda mos.

**PostgreSQL nima?**  
PostgreSQL â€” bu ochiq kodli (open-source) relational maâ€™lumotlar bazasi tizimi boâ€˜lib, SQL tilidan foydalanadi. U maâ€™lumotlar izchilligi, kengaytirilishi va murakkab soâ€˜rovlar bilan ishlashda juda mashhur. Bugun biz quyidagilarni oâ€˜rganamiz:  
- PostgreSQLâ€™ni qanday oâ€˜rnatish va ishlatish.  
- Asosiy SQL soâ€˜rovlar bilan ishlash.  
- Python yordamida PostgreSQLâ€™ga ulanish.  

**Afzalliklari:**  
- Maâ€™lumotlar izchilligi yuqori (ACID qoidalariga mos).  
- Murakkab soâ€˜rovlar va kengaytmalar (extensions) qoâ€˜llab-quvvatlanadi.  
- Ochiq kodli va bepul.  

Keling, bir savol: Relational maâ€™lumotlar bazasi nima uchun muhim deb oâ€˜ylaysiz? (Oâ€˜quvchilar javobini kutaman, toâ€˜gâ€˜ri javob boâ€˜lsa: â€œAjoyib, toâ€˜gâ€˜ri!â€ deyman.)

Mashq: Quyidagi vazifani bajaring:  
- PostgreSQL haqida oâ€˜zingizning taxminiy tushunchangizni yozing (qogâ€˜ozda yoki fikr sifatida).  
- PostgreSQLâ€™ni qanday loyihalarda ishlatish mumkinligi haqida oâ€˜ylang (masalan, bank tizimlari).  

5 daqiqa vaqt beraman!

---

## 2. PostgreSQL oâ€˜rnatish va asosiy soâ€˜rovlar (25 daqiqa)

Endi PostgreSQL bilan ishlashni boshlaymiz!

### PostgreSQL oâ€˜rnatish (qisqacha)
1. **Oâ€˜rnatish:** PostgreSQLâ€™ni rasmiy saytidan (https://www.postgresql.org/download/) yuklab oâ€˜rnatamiz.  
   - Windows/Linux/Mac uchun mos versiyani tanlang.  
   - Oâ€˜rnatish jarayonida parol sozlang (masalan, `admin123`).  
2. **pgAdmin:** PostgreSQL bilan ishlash uchun pgAdmin grafik interfeysini oâ€˜rnatish mumkin.  
3. **Tekshirish:** Terminalda `psql --version` buyrugâ€˜i bilan oâ€˜rnatilganligini tekshiramiz.  

**Eslatma:** Bu darsda biz faqat asosiy soâ€˜rovlar va ulanishni koâ€˜rib chiqamiz, oâ€˜rnatish jarayonini tasavvur qilamiz.

### PostgreSQLâ€™da asosiy soâ€˜rovlar
PostgreSQLâ€™da ishlaydigan SQL soâ€˜rovlarini koâ€˜rib chiqamiz. Quyida oddiy misollar:

#### 1. Baza yaratish
```sql
CREATE DATABASE mydatabase;
```

#### 2. Jadval yaratish
```sql
-- mydatabase bazasiga ulanamiz
\c mydatabase

-- users jadvalini yaratish
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    ism VARCHAR(50),
    yosh INTEGER
);
```

#### 3. Maâ€™lumot qoâ€˜shish
```sql
INSERT INTO users (ism, yosh) VALUES ('Ali', 20);
INSERT INTO users (ism, yosh) VALUES ('Zilola', 22);
```

#### 4. Maâ€™lumot olish
```sql
SELECT * FROM users;
-- Natija:
-- id | ism    | yosh
-- 1  | Ali    | 20
-- 2  | Zilola | 22

-- Filtrlash
SELECT * FROM users WHERE yosh > 21;
-- Natija:
-- id | ism    | yosh
-- 2  | Zilola | 22
```

#### 5. Maâ€™lumotni oâ€˜zgartirish
```sql
UPDATE users SET yosh = 23 WHERE ism = 'Zilola';
```

#### 6. Maâ€™lumotni oâ€˜chirish
```sql
DELETE FROM users WHERE ism = 'Ali';
```

**Eslatma:** Ushbu soâ€˜rovlar PostgreSQLâ€™ning `psql` terminalida yoki pgAdminâ€™da ishlatiladi.

Mashq: Quyidagi vazifani bajaring:  
- `products` nomli jadval tuzing (id, nomi, narxi).  
- 2 ta mahsulot qoâ€˜shish soâ€˜rovini yozing.  
- Narxi 100 dan yuqori boâ€˜lgan mahsulotlarni topish soâ€˜rovini yozing.  

5 daqiqa vaqt beraman!

---

## 3. Python bilan PostgreSQL ulanish (20 daqiqa)

Ajoyib, endi Python yordamida PostgreSQLâ€™ga ulanishni oâ€˜rganamiz!

### `psycopg2` moduli
Pythonâ€™da PostgreSQL bilan ishlash uchun `psycopg2` modulidan foydalanamiz. Avval uni oâ€˜rnatamiz:

```bash
pip install psycopg2
```

### PostgreSQLâ€™ga ulanish
`psycopg2` yordamida ulanish va asosiy amallar:

```python
import psycopg2

# PostgreSQLâ€™ga ulanish
try:
    conn = psycopg2.connect(
        database="mydatabase",
        user="postgres",
        password="admin123",  # Oâ€˜rnatishda kiritgan parol
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # Jadval yaratish
    cursor.execute('''CREATE TABLE IF NOT EXISTS students (
        id SERIAL PRIMARY KEY,
        ism VARCHAR(50),
        baho INTEGER
    )''')

    # Maâ€™lumot qoâ€˜shish
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Vali", 5))
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Zilola", 4))
    conn.commit()

    # Maâ€™lumot olish
    cursor.execute("SELECT * FROM students WHERE baho > 4")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Vali', 5)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

**Tushuntirish:**  
- `psycopg2.connect` orqali bazaga ulanamiz.  
- `cursor` yordamida SQL soâ€˜rovlarini bajarish mumkin.  
- `commit()` oâ€˜zgarishlarni saqlaydi.  
- Xatolarni ushlash uchun `try-except` ishlatamiz.  

**Eslatma:** Bu darsda biz faqat kodni koâ€˜rib chiqamiz, chunki real ulanish muhitga bogâ€˜liq.

Mashq: Quyidagi vazifani bajaring:  
- `employees` nomli jadval tuzing (id, name, salary).  
- 2 ta xodim qoâ€˜shish soâ€˜rovini Pythonâ€™da yozing.  
- Maoshi 1000 dan yuqori boâ€˜lgan xodimlarni topish soâ€˜rovini yozing.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi oâ€˜rganganlarimizni amalda sinab koâ€˜ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: SQL soâ€˜rovlar
- `books` nomli jadval tuzing (id, title, price).  
- 2 ta kitob qoâ€˜shish soâ€˜rovini yozing.  
- Narxi 50 dan yuqori boâ€˜lgan kitoblarni topish soâ€˜rovini yozing.

```sql
-- Jadval yaratish
CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100),
    price INTEGER
);

-- Maâ€™lumot qoâ€˜shish
INSERT INTO books (title, price) VALUES ('Python 101', 60);
INSERT INTO books (title, price) VALUES ('Java Basics', 40);

-- Maâ€™lumot olish
SELECT * FROM books WHERE price > 50;
-- Natija:
-- id | title      | price
-- 1  | Python 101 | 60
```

### Mashq 2: Pythonâ€™da ulanish va soâ€˜rovlar
- `products` nomli jadval tuzing (id, nomi, narxi).  
- 2 ta mahsulot qoâ€˜shing.  
- Narxi 100 dan yuqori boâ€˜lgan mahsulotlarni toping.

```python
import psycopg2

try:
    conn = psycopg2.connect(
        database="mydatabase",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()

    # Jadval yaratish
    cursor.execute('''CREATE TABLE IF NOT EXISTS products (
        id SERIAL PRIMARY KEY,
        nomi VARCHAR(50),
        narxi INTEGER
    )''')

    # Maâ€™lumot qoâ€˜shish
    cursor.execute("INSERT INTO products (nomi, narxi) VALUES (%s, %s)", ("Telefon", 500))
    cursor.execute("INSERT INTO products (nomi, narxi) VALUES (%s, %s)", ("Noutbuk", 800))
    conn.commit()

    # Maâ€™lumot olish
    cursor.execute("SELECT * FROM products WHERE narxi > 100")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Telefon', 500), (2, 'Noutbuk', 800)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
```

### Mashq 3: Maâ€™lumotni oâ€˜zgartirish va oâ€˜chirish
- Yuqoridagi `products` jadvalidagi "Telefon" mahsulotining narxini 600 ga oâ€˜zgartiring.  
- "Noutbuk" mahsulotini oâ€˜chiring.

```python
import psycopg2

try:
    conn = psycopg2.connect(
        database="mydatabase",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()

    # Maâ€™lumotni oâ€˜zgartirish
    cursor.execute("UPDATE products SET narxi = %s WHERE nomi = %s", (600, "Telefon"))
    conn.commit()

    # Maâ€™lumotni oâ€˜chirish
    cursor.execute("DELETE FROM products WHERE nomi = %s", ("Noutbuk",))
    conn.commit()

    # Natijani koâ€˜rish
    cursor.execute("SELECT * FROM products")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Telefon', 600)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! ðŸŽ‰ Bugun biz PostgreSQL bilan tanishdik. Asosiy SQL soâ€˜rovlar bilan ishlashni va Python yordamida ulanishni oâ€˜rgandik.

Uyga vazifa sifatida quyidagini qiling:  
1. `employees` nomli jadval tuzing (id, name, salary).  
   - 3 ta xodim qoâ€˜shish soâ€˜rovini yozing (SQLâ€™da).  
   - Maoshi 1000 dan yuqori boâ€˜lgan xodimlarni topish soâ€˜rovini yozing.  
2. Pythonâ€™da `psycopg2` yordamida:  
   - `students` jadvalini tuzing (id, ism, baho).  
   - 2 ta talaba qoâ€˜shing.  
   - Bahosi 4 dan yuqori boâ€˜lgan talabalarni toping.  
3. Yuqoridagi `students` jadvalidagi bir talabaning bahosini oâ€˜zgartiring va bitta talabani oâ€˜chiring.  

Darsimiz shu bilan tugadi, keyingi darsda esa `PgAdmin` mavzusini oâ€˜rganamiz. Savollaringiz boâ€˜lsa, yozib qoldiring yoki keyingi darsda soâ€˜rang! ðŸ˜Š

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zoâ€˜r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni oâ€˜rgandik? Kim aytib bera oladi? (Oâ€˜quvchilar javobini kutaman.)

- PostgreSQL qanday afzalliklarga ega?  
- Pythonâ€™da ulanish qanday amalga oshiriladi?  
- Qanday SQL soâ€˜rovlar bilan ishladik?  

Qandaydir tushunmovchilik boâ€˜ldimi? Savollaringiz bormi? (Oâ€˜quvchilar savollarini eshitaman va tushuntiraman.) ðŸ˜Š

---
