---

# 📚 Darsning mavzusi: PgAdmin bilan ishlash

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va PgAdmin haqida      | 20 daqiqa       |
| PgAdmin’da asosiy amallar     | 25 daqiqa       |
| Python bilan PgAdmin’dan foydalanish | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‘lib, o‘quvchilarni dars jarayoniga faolroq jalb qiladi.

---

# 📖 Darsning batafsil rejasi

## 1. Kirish va PgAdmin haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! 😊 Bugun biz **PgAdmin** deb nomlangan vosita bilan tanishamiz. PgAdmin — bu PostgreSQL ma’lumotlar bazasini grafik interfeys yordamida boshqarish uchun ishlatiladigan qulay dastur. U PostgreSQL bilan ishlashni osonlashtiradi.

**PgAdmin nima?**  
PgAdmin — ochiq kodli (open-source) dastur bo‘lib, PostgreSQL ma’lumotlar bazalarini boshqarish uchun ishlatiladi. U jadvallar yaratish, ma’lumotlarni ko‘rish, so‘rovlar yozish va boshqa ko‘plab amallarni grafik tarzda bajarish imkonini beradi. Bugun biz quyidagilarni o‘rganamiz:  
- PgAdmin’ni qanday o‘rnatish va ishga tushirish.  
- PgAdmin’da asosiy amallarni bajarish (jadval yaratish, ma’lumot qo‘shish).  
- Python yordamida PgAdmin’dan foydalangan holda ma’lumotlar bilan ishlash.  

**Afzalliklari:**  
- Grafik interfeys tufayli SQL so‘rovlarini yozish osonlashadi.  
- Ma’lumotlarni vizual ko‘rish va tahrirlash imkoniyati.  
- PostgreSQL serverlarini boshqarish uchun qulay vosita.  

Keling, bir savol: Grafik interfeys yordamida ma’lumotlar bazasini boshqarish nima uchun foydali deb o‘ylaysiz? (O‘quvchilar javobini kutaman, to‘g‘ri javob bo‘lsa: “Ajoyib, to‘g‘ri!” deyman.)

Mashq: Quyidagi vazifani bajaring:  
- PgAdmin haqida o‘zingizning taxminiy tushunchangizni yozing (qog‘ozda yoki fikr sifatida).  
- PgAdmin’ni qanday loyihalarda ishlatish mumkinligi haqida o‘ylang (masalan, veb-ilovalar).  

5 daqiqa vaqt beraman!

---

## 2. PgAdmin’da asosiy amallar (25 daqiqa)

Endi PgAdmin bilan ishlashni boshlaymiz!

### PgAdmin o‘rnatish va ishga tushirish (qisqacha)
1. **O‘rnatish:**  
   - PostgreSQL o‘rnatilganda PgAdmin avtomatik o‘rnatiladi (https://www.postgresql.org/download/).  
   - Agar alohida o‘rnatish kerak bo‘lsa, PgAdmin rasmiy saytidan (https://www.pgadmin.org/download/) yuklanadi.  
2. **Ishga tushirish:**  
   - PgAdmin’ni oching (Windows’da Start menyusidan yoki brauzer orqali).  
   - Dastur brauzerda ishlaydi (odatiy port: `localhost:5050`).  
   - Login va parolni kiriting (PostgreSQL o‘rnatishda kiritgan parol, masalan, `admin123`).  
3. **Serverga ulanish:**  
   - “Add New Server” ni bosing.  
   - Server nomi (masalan, “Local”), host (`localhost`), port (`5432`), foydalanuvchi (`postgres`), parol (`admin123`) ni kiriting.  

**Eslatma:** Bu darsda biz faqat amallarni tasavvur qilamiz, chunki o‘rnatish muhitga bog‘liq.

### PgAdmin’da asosiy amallar
PgAdmin’da jadvallar yaratish, ma’lumot qo‘shish va so‘rovlar bilan ishlashni ko‘ramiz.

#### 1. Baza yaratish
- PgAdmin’da chap panelda “Databases” bo‘limini bosing.  
- “Create > Database” ni tanlang.  
- Nomini kiriting (masalan, `mydb`) va saqlang.  

#### 2. Jadval yaratish
- `mydb` bazasini tanlang.  
- “Schemas > public > Tables” bo‘limida “Create > Table” ni bosing.  
- Jadval nomini kiriting (masalan, `users`).  
- Ustunlar qo‘shing:  
  - `id` (SERIAL, Primary Key).  
  - `ism` (VARCHAR(50)).  
  - `yosh` (INTEGER).  
- Saqlang.  

**SQL ko‘rinishi:**  
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    ism VARCHAR(50),
    yosh INTEGER
);
```

#### 3. Ma’lumot qo‘shish
- `users` jadvalini o‘ng tugmasi bilan bosing va “View/Edit Data > Add Row” ni tanlang.  
- Ma’lumotlarni kiriting:  
  - `ism`: Ali, `yosh`: 20  
  - `ism`: Zilola, `yosh`: 22  
- Saqlang.  

**SQL ko‘rinishi:**  
```sql
INSERT INTO users (ism, yosh) VALUES ('Ali', 20);
INSERT INTO users (ism, yosh) VALUES ('Zilola', 22);
```

#### 4. Ma’lumot olish (so‘rov yozish)
- “Tools > Query Tool” ni oching.  
- Quyidagi so‘rovni yozing:  
```sql
SELECT * FROM users WHERE yosh > 21;
```
- Natija:  
  - `id: 2, ism: Zilola, yosh: 22`

#### 5. Ma’lumotni o‘zgartirish va o‘chirish
- “View/Edit Data” orqali yoki so‘rov yozish orqali:  
```sql
-- O‘zgartirish
UPDATE users SET yosh = 23 WHERE ism = 'Zilola';

-- O‘chirish
DELETE FROM users WHERE ism = 'Ali';
```

Mashq: Quyidagi vazifani bajaring:  
- `products` nomli jadval tuzing (id, nomi, narxi).  
- 2 ta mahsulot qo‘shing (masalan, Telefon, 500 va Noutbuk, 800).  
- Narxi 600 dan yuqori bo‘lgan mahsulotlarni topish so‘rovini yozing.  

5 daqiqa vaqt beraman!

---

## 3. Python bilan PgAdmin’dan foydalanish (20 daqiqa)

Ajoyib, endi Python yordamida PgAdmin’da yaratilgan bazaga ulanishni o‘rganamiz! Aslida, PgAdmin faqat grafik interfeys bo‘lib, Python PostgreSQL’ga to‘g‘ridan-to‘g‘ri ulanadi.

### `psycopg2` moduli bilan ulanish
Python’da PostgreSQL bilan ishlash uchun `psycopg2` ishlatamiz (PgAdmin’dan foydalanish shart emas, lekin u orqali bazani ko‘rish mumkin):

```python
import psycopg2

# PostgreSQL’ga ulanish
try:
    conn = psycopg2.connect(
        database="mydb",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # Jadval yaratish
    cursor.execute('''CREATE TABLE IF NOT EXISTS students (
        id SERIAL PRIMARY KEY,
        ism VARCHAR(50),
        baho INTEGER
    )''')

    # Ma’lumot qo‘shish
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Vali", 5))
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Zilola", 4))
    conn.commit()

    # Ma’lumot olish
    cursor.execute("SELECT * FROM students WHERE baho > 4")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Vali', 5)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

**PgAdmin’da tekshirish:**  
- PgAdmin’ni oching, `mydb` bazasiga kiring.  
- `students` jadvalini ko‘ring — Python’da qo‘shilgan ma’lumotlar (Vali, Zilola) ko‘rinadi.  
- “Query Tool” orqali `SELECT * FROM students;` so‘rovini yozib, natijani ko‘ring.  

**Eslatma:** Bu darsda biz faqat kodni ko‘rib chiqamiz, chunki real ulanish muhitga bog‘liq.

Mashq: Quyidagi vazifani bajaring:  
- `employees` nomli jadval tuzing (id, name, salary).  
- Python’da 2 ta xodim qo‘shing.  
- Maoshi 1000 dan yuqori bo‘lgan xodimlarni toping va natijani ekranga chiqaring.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi o‘rganganlarimizni amalda sinab ko‘ramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: PgAdmin’da jadval va ma’lumotlar
- `books` nomli jadval tuzing (id, title, price).  
- 2 ta kitob qo‘shing (masalan, Python 101, 60 va Java Basics, 40).  
- Narxi 50 dan yuqori bo‘lgan kitoblarni topish so‘rovini yozing.

```sql
-- Jadval yaratish
CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100),
    price INTEGER
);

-- Ma’lumot qo‘shish
INSERT INTO books (title, price) VALUES ('Python 101', 60);
INSERT INTO books (title, price) VALUES ('Java Basics', 40);

-- Ma’lumot olish
SELECT * FROM books WHERE price > 50;
-- Natija:
-- id | title      | price
-- 1  | Python 101 | 60
```

### Mashq 2: Python’da ulanish va so‘rovlar
- `products` nomli jadval tuzing (id, nomi, narxi).  
- 2 ta mahsulot qo‘shing.  
- Narxi 100 dan yuqori bo‘lgan mahsulotlarni toping.

```python
import psycopg2

try:
    conn = psycopg2.connect(
        database="mydb",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()

    # Jadval yaratish
    cursor.execute('''CREATE TABLE IF NOT EXISTS products (
        id SERIAL PRIMARY KEY,
        nomi VARCHAR(50),
        narxi INTEGER
    )''')

    # Ma’lumot qo‘shish
    cursor.execute("INSERT INTO products (nomi, narxi) VALUES (%s, %s)", ("Telefon", 500))
    cursor.execute("INSERT INTO products (nomi, narxi) VALUES (%s, %s)", ("Noutbuk", 800))
    conn.commit()

    # Ma’lumot olish
    cursor.execute("SELECT * FROM products WHERE narxi > 100")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Telefon', 500), (2, 'Noutbuk', 800)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
```

### Mashq 3: PgAdmin’da tahrirlash
- Yuqoridagi `products` jadvalidagi "Telefon" mahsulotining narxini 600 ga o‘zgartiring.  
- "Noutbuk" mahsulotini o‘chiring.  
- Natijani ko‘rish uchun so‘rov yozing.

```sql
-- O‘zgartirish
UPDATE products SET narxi = 600 WHERE nomi = 'Telefon';

-- O‘chirish
DELETE FROM products WHERE nomi = 'Noutbuk';

-- Natijani ko‘rish
SELECT * FROM products;
-- Natija:
-- id | nomi    | narxi
-- 1  | Telefon | 600
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! 🎉 Bugun biz PgAdmin bilan tanishdik. U yordamida PostgreSQL’da jadvallar yaratish, ma’lumotlarni boshqarish va Python bilan ulanishni o‘rgandik.

Uyga vazifa sifatida quyidagini qiling:  
1. PgAdmin’da `employees` nomli jadval tuzing (id, name, salary).  
   - 3 ta xodim qo‘shing (masalan, Ali, 1500; Vali, 1200; Zilola, 900).  
   - Maoshi 1000 dan yuqori bo‘lgan xodimlarni topish so‘rovini yozing.  
2. Python’da `psycopg2` yordamida:  
   - `students` jadvalini tuzing (id, ism, baho).  
   - 2 ta talaba qo‘shing.  
   - Bahosi 4 dan yuqori bo‘lgan talabalarni toping.  
3. PgAdmin’da `students` jadvalidagi bir talabaning bahosini o‘zgartiring va bitta talabani o‘chiring.  

Darsimiz shu bilan tugadi, keyingi darsda esa `PostgreSQL Create Database & Table (Ma’lumotlar bazasi va jadval yaratish)` mavzusini o‘rganamiz. Savollaringiz bo‘lsa, yozib qoldiring yoki keyingi darsda so‘rang! 😊

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‘r ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‘rgandik? Kim aytib bera oladi? (O‘quvchilar javobini kutaman.)

- PgAdmin qanday afzalliklarga ega?  
- Python’da ulanish qanday amalga oshirildi?  
- Qanday SQL so‘rovlar bilan ishladik?  

Qandaydir tushunmovchilik bo‘ldimi? Savollaringiz bormi? (O‘quvchilar savollarini eshitaman va tushuntiraman.) 😊

---