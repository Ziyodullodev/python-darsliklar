---

# üìö Darsning mavzusi: PostgreSQL Create Database & Table (Ma‚Äôlumotlar bazasi va jadval yaratish)

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va PostgreSQL asoslari | 20 daqiqa       |
| Ma‚Äôlumotlar bazasi va jadval yaratish | 25 daqiqa       |
| Python bilan bazaga ulanish va jadval yaratish | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‚Äòlib, o‚Äòquvchilarni dars jarayoniga faolroq jalb qiladi.

---

# üìñ Darsning batafsil rejasi

## 1. Kirish va PostgreSQL asoslari (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! üòä Bugun biz PostgreSQL‚Äôda ma‚Äôlumotlar bazasi va jadval yaratishni o‚Äòrganamiz. PostgreSQL ‚Äî bu kuchli relational ma‚Äôlumotlar bazasi tizimi bo‚Äòlib, loyihalarda ma‚Äôlumotlarni tartibli saqlash uchun ishlatiladi.

**PostgreSQL haqida qisqacha:**  
PostgreSQL ochiq kodli (open-source) tizim bo‚Äòlib, SQL tilidan foydalanadi. U ma‚Äôlumotlar izchilligi va murakkab so‚Äòrovlar bilan ishlashda juda mashhur. Bugun biz quyidagilarni o‚Äòrganamiz:  
- Ma‚Äôlumotlar bazasi yaratish (`CREATE DATABASE`).  
- Jadval yaratish (`CREATE TABLE`).  
- Python yordamida ulanish va jadval yaratish.  

**Nima uchun bu muhim?**  
Ma‚Äôlumotlar bazasi va jadval yaratish loyiha boshlanishidagi birinchi qadamdir. Ular ma‚Äôlumotlarni tuzilgan holda saqlashga yordam beradi.

Keling, bir savol: Ma‚Äôlumotlar bazasi va jadval qanday hollarda kerak bo‚Äòladi deb o‚Äòylaysiz? (O‚Äòquvchilar javobini kutaman, to‚Äòg‚Äòri javob bo‚Äòlsa: ‚ÄúAjoyib, to‚Äòg‚Äòri!‚Äù deyman.)

Mashq: Quyidagi vazifani bajaring:  
- Ma‚Äôlumotlar bazasi va jadval haqida o‚Äòzingizning taxminiy tushunchangizni yozing (qog‚Äòozda yoki fikr sifatida).  
- Qanday loyiha uchun baza va jadval yaratish kerak bo‚Äòlishi mumkin (masalan, onlayn do‚Äòkon)?  

5 daqiqa vaqt beraman!

---

## 2. Ma‚Äôlumotlar bazasi va jadval yaratish (25 daqiqa)

Endi PostgreSQL‚Äôda ma‚Äôlumotlar bazasi va jadval yaratishni o‚Äòrganamiz!

### PostgreSQL‚Äôda ma‚Äôlumotlar bazasi yaratish
Ma‚Äôlumotlar bazasi yaratish uchun `CREATE DATABASE` buyrug‚Äòidan foydalanamiz. Bu jarayonni `psql` terminali yoki PgAdmin orqali bajarish mumkin.

#### 1. `psql` terminalida baza yaratish
- Terminalda `psql -U postgres` buyrug‚Äòi bilan PostgreSQL‚Äôga kiramiz.  
- Quyidagi so‚Äòrovni yozamiz:  
```sql
CREATE DATABASE mydatabase;
```
- Bazaga ulanish uchun:  
```sql
\c mydatabase
```

#### 2. PgAdmin‚Äôda baza yaratish
- PgAdmin‚Äôni oching.  
- ‚ÄúDatabases‚Äù bo‚Äòlimida ‚ÄúCreate > Database‚Äù ni bosing.  
- Nomini kiriting (masalan, `mydatabase`) va saqlang.  

### Jadval yaratish
Endi `mydatabase` ichida jadval yaratamiz. `CREATE TABLE` buyrug‚Äòidan foydalanamiz.

#### Jadval yaratish misoli
- Quyidagi so‚Äòrov `users` nomli jadval yaratadi:  
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    ism VARCHAR(50),
    yosh INTEGER
);
```

**Tushuntirish:**  
- `id SERIAL PRIMARY KEY`: Har bir foydalanuvchi uchun avtomatik o‚Äòsadigan noyob ID.  
- `ism VARCHAR(50)`: Foydalanuvchi ismi, maksimal uzunligi 50 belgi.  
- `yosh INTEGER`: Foydalanuvchi yoshi, butun son.  

#### Ma‚Äôlumot qo‚Äòshish (qo‚Äòshimcha)
Jadval yaratilgandan so‚Äòng, ma‚Äôlumot qo‚Äòshish uchun `INSERT INTO` buyrug‚Äòidan foydalanamiz:  
```sql
INSERT INTO users (ism, yosh) VALUES ('Ali', 20);
INSERT INTO users (ism, yosh) VALUES ('Zilola', 22);

-- Ma‚Äôlumotlarni ko‚Äòrish
SELECT * FROM users;
-- Natija:
-- id | ism    | yosh
-- 1  | Ali    | 20
-- 2  | Zilola | 22
```

#### Boshqa jadval yaratish
Yana bir misol ‚Äî `products` jadvali:  
```sql
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    nomi VARCHAR(50),
    narxi INTEGER
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO products (nomi, narxi) VALUES ('Telefon', 500);
INSERT INTO products (nomi, narxi) VALUES ('Noutbuk', 800);
```

**Eslatma:** Bu darsda biz faqat so‚Äòrovlar va natijalarni tasavvur qilamiz, chunki real ulanish muhitga bog‚Äòliq.

Mashq: Quyidagi vazifani bajaring:  
- `school` nomli ma‚Äôlumotlar bazasi yarating (SQL so‚Äòrov sifatida).  
- `students` nomli jadval yarating (id, ism, baho).  
- 2 ta talaba qo‚Äòshing (masalan, Vali, 5 va Zilola, 4).  

5 daqiqa vaqt beraman!

---

## 3. Python bilan bazaga ulanish va jadval yaratish (20 daqiqa)

Ajoyib, endi Python yordamida PostgreSQL‚Äôga ulanish va jadval yaratishni o‚Äòrganamiz!

### `psycopg2` moduli bilan ulanish
Python‚Äôda PostgreSQL bilan ishlash uchun `psycopg2` modulidan foydalanamiz:

```python
import psycopg2

# PostgreSQL‚Äôga ulanish
try:
    conn = psycopg2.connect(
        database="postgres",  # Dastlab standart bazaga ulanamiz
        user="postgres",
        password="admin123",  # O‚Äòrnatishda kiritgan parol
        host="localhost",
        port="5432"
    )
    conn.autocommit = True  # Bazani yaratish uchun autocommit yoqiladi
    cursor = conn.cursor()

    # Ma‚Äôlumotlar bazasi yaratish
    cursor.execute("CREATE DATABASE myapp")

    # Yangi bazaga ulanish
    conn.close()
    conn = psycopg2.connect(
        database="myapp",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # Jadval yaratish
    cursor.execute('''CREATE TABLE employees (
        id SERIAL PRIMARY KEY,
        name VARCHAR(50),
        salary INTEGER
    )''')

    # Ma‚Äôlumot qo‚Äòshish
    cursor.execute("INSERT INTO employees (name, salary) VALUES (%s, %s)", ("Ali", 1500))
    cursor.execute("INSERT INTO employees (name, salary) VALUES (%s, %s)", ("Vali", 1200))
    conn.commit()

    # Ma‚Äôlumot olish
    cursor.execute("SELECT * FROM employees")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Ali', 1500), (2, 'Vali', 1200)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

**Tushuntirish:**  
- `psycopg2.connect` yordamida bazaga ulanamiz.  
- `CREATE DATABASE` bilan yangi baza yaratdik.  
- `CREATE TABLE` bilan jadval yaratdik va ma‚Äôlumot qo‚Äòshdik.  
- Xatolarni ushlash uchun `try-except` ishlatdik.  

**Eslatma:** Bu darsda biz faqat kodni ko‚Äòrib chiqamiz, chunki real ulanish muhitga bog‚Äòliq.

Mashq: Quyidagi vazifani bajaring:  
- Python‚Äôda `shop` nomli ma‚Äôlumotlar bazasi yarating.  
- `products` nomli jadval yarating (id, nomi, narxi).  
- 2 ta mahsulot qo‚Äòshing (masalan, Telefon, 500 va Noutbuk, 800).  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi o‚Äòrganganlarimizni amalda sinab ko‚Äòramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: SQL‚Äôda baza va jadval yaratish
- `library` nomli ma‚Äôlumotlar bazasi yarating.  
- `books` nomli jadval yarating (id, title, price).  
- 2 ta kitob qo‚Äòshing (masalan, Python 101, 60 va Java Basics, 40).

```sql
-- Ma‚Äôlumotlar bazasi yaratish
CREATE DATABASE library;

-- Bazaga ulanish
\c library

-- Jadval yaratish
CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100),
    price INTEGER
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO books (title, price) VALUES ('Python 101', 60);
INSERT INTO books (title, price) VALUES ('Java Basics', 40);

-- Natijani ko‚Äòrish
SELECT * FROM books;
-- Natija:
-- id | title      | price
-- 1  | Python 101 | 60
-- 2  | Java Basics| 40
```

### Mashq 2: Python‚Äôda baza va jadval yaratish
- `store` nomli ma‚Äôlumotlar bazasi yarating.  
- `items` nomli jadval yarating (id, name, cost).  
- 2 ta mahsulot qo‚Äòshing.

```python
import psycopg2

try:
    conn = psycopg2.connect(
        database="postgres",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    conn.autocommit = True
    cursor = conn.cursor()

    # Ma‚Äôlumotlar bazasi yaratish
    cursor.execute("CREATE DATABASE store")

    # Yangi bazaga ulanish
    conn.close()
    conn = psycopg2.connect(
        database="store",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()

    # Jadval yaratish
    cursor.execute('''CREATE TABLE items (
        id SERIAL PRIMARY KEY,
        name VARCHAR(50),
        cost INTEGER
    )''')

    # Ma‚Äôlumot qo‚Äòshish
    cursor.execute("INSERT INTO items (name, cost) VALUES (%s, %s)", ("Klaviatura", 50))
    cursor.execute("INSERT INTO items (name, cost) VALUES (%s, %s)", ("Monitor", 200))
    conn.commit()

    # Ma‚Äôlumot olish
    cursor.execute("SELECT * FROM items")
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Klaviatura', 50), (2, 'Monitor', 200)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
```

### Mashq 3: Ma‚Äôlumot qo‚Äòshish va ko‚Äòrish
- Yuqoridagi `items` jadvaliga yana 1 ta mahsulot qo‚Äòshing (masalan, Sichqoncha, 20).  
- Barcha mahsulotlarni ko‚Äòrish so‚Äòrovini yozing.

```sql
-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO items (name, cost) VALUES ('Sichqoncha', 20);

-- Barcha mahsulotlarni ko‚Äòrish
SELECT * FROM items;
-- Natija:
-- id | name       | cost
-- 1  | Klaviatura | 50
-- 2  | Monitor    | 200
-- 3  | Sichqoncha | 20
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! üéâ Bugun biz PostgreSQL‚Äôda ma‚Äôlumotlar bazasi va jadval yaratishni o‚Äòrgandik. SQL so‚Äòrovlar va Python yordamida ulanishni ko‚Äòrdik.

Uyga vazifa sifatida quyidagini qiling:  
1. `university` nomli ma‚Äôlumotlar bazasi yarating.  
   - `students` nomli jadval yarating (id, ism, baho).  
   - 3 ta talaba qo‚Äòshing (SQL‚Äôda).  
2. Python‚Äôda `school` nomli ma‚Äôlumotlar bazasi yarating.  
   - `teachers` nomli jadval yarating (id, name, salary).  
   - 2 ta o‚Äòqituvchi qo‚Äòshing.  
3. Yuqoridagi `teachers` jadvaliga yana 1 ta o‚Äòqituvchi qo‚Äòshing va barcha o‚Äòqituvchilarni ko‚Äòrish so‚Äòrovini yozing (SQL‚Äôda).  

Darsimiz shu bilan tugadi, keyingi darsda esa `PostgreSQL Select & Where` mavzusini o‚Äòrganamiz. Savollaringiz bo‚Äòlsa, yozib qoldiring yoki keyingi darsda so‚Äòrang! üòä

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‚Äòr ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‚Äòrgandik? Kim aytib bera oladi? (O‚Äòquvchilar javobini kutaman.)

- Ma‚Äôlumotlar bazasi qanday yaratiladi?  
- `CREATE TABLE` buyrug‚Äòi qanday ishlaydi?  
- Python‚Äôda ulanish qanday amalga oshirildi?  

Qandaydir tushunmovchilik bo‚Äòldimi? Savollaringiz bormi? (O‚Äòquvchilar savollarini eshitaman va tushuntiraman.) üòä

---
