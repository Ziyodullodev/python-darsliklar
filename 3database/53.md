---

# üìö Darsning mavzusi: PostgreSQL Select & Where

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va Select & Where haqida | 20 daqiqa       |
| Select va Where bilan ishlash | 25 daqiqa       |
| Python bilan Select & Where so‚Äòrovlar | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‚Äòlib, o‚Äòquvchilarni dars jarayoniga faolroq jalb qiladi.

---

# üìñ Darsning batafsil rejasi

## 1. Kirish va Select & Where haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! üòä Bugun biz PostgreSQL‚Äôda ma‚Äôlumotlarni olish va filtrlash uchun ishlatiladigan **SELECT** va **WHERE** so‚Äòrovlarini o‚Äòrganamiz. Bu so‚Äòrovlar ma‚Äôlumotlar bazasidan kerakli ma‚Äôlumotlarni olishda juda muhim.

**SELECT va WHERE nima?**  
- **SELECT:** Ma‚Äôlumotlar bazasidan ma‚Äôlumotlarni tanlab olish uchun ishlatiladi.  
- **WHERE:** Ma‚Äôlumotlarni filtrlash uchun shart qo‚Äòyish imkonini beradi.  

Bugun biz quyidagilarni o‚Äòrganamiz:  
- SELECT yordamida ma‚Äôlumotlarni qanday olish.  
- WHERE yordamida shartlar qo‚Äòyib filtrlash.  
- Python‚Äôda ushbu so‚Äòrovlar bilan ishlash.  

**Nima uchun bu muhim?**  
Ma‚Äôlumotlarni olish va filtrlash real loyihalarda, masalan, foydalanuvchilarni qidirish yoki maxsus mahsulotlarni topishda kerak bo‚Äòladi.

Keling, bir savol: Ma‚Äôlumotlarni filtrlash qanday hollarda foydali bo‚Äòladi deb o‚Äòylaysiz? (O‚Äòquvchilar javobini kutaman, to‚Äòg‚Äòri javob bo‚Äòlsa: ‚ÄúAjoyib, to‚Äòg‚Äòri!‚Äù deyman.)

Mashq: Quyidagi vazifani bajaring:  
- SELECT va WHERE haqida o‚Äòzingizning taxminiy tushunchangizni yozing (qog‚Äòozda yoki fikr sifatida).  
- Qanday loyiha uchun ma‚Äôlumotlarni filtrlash kerak bo‚Äòlishi mumkin (masalan, onlayn do‚Äòkon)?  

5 daqiqa vaqt beraman!

---

## 2. Select va Where bilan ishlash (25 daqiqa)

Endi PostgreSQL‚Äôda SELECT va WHERE so‚Äòrovlarini o‚Äòrganamiz!

### Tayyor jadval
Avval bir jadval yaratamiz va unga ma‚Äôlumot qo‚Äòshamiz:  
```sql
-- Ma‚Äôlumotlar bazasi va jadval yaratish
CREATE DATABASE shop;
\c shop

CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    nomi VARCHAR(50),
    narxi INTEGER,
    turi VARCHAR(20)
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO products (nomi, narxi, turi) VALUES ('Telefon', 500, 'Elektronika');
INSERT INTO products (nomi, narxi, turi) VALUES ('Noutbuk', 800, 'Elektronika');
INSERT INTO products (nomi, narxi, turi) VALUES ('Kiyim', 50, 'Moda');
INSERT INTO products (nomi, narxi, turi) VALUES ('Aksessuar', 20, 'Moda');
```

### SELECT bilan ma‚Äôlumot olish
**SELECT** yordamida jadvaldan ma‚Äôlumotlarni tanlab olamiz:  
```sql
-- Barcha ma‚Äôlumotlarni olish
SELECT * FROM products;
-- Natija:
-- id | nomi      | narxi | turi
-- 1  | Telefon   | 500   | Elektronika
-- 2  | Noutbuk   | 800   | Elektronika
-- 3  | Kiyim     | 50    | Moda
-- 4  | Aksessuar | 20    | Moda

-- Faqat kerakli ustunlarni olish
SELECT nomi, narxi FROM products;
-- Natija:
-- nomi      | narxi
-- Telefon   | 500
-- Noutbuk   | 800
-- Kiyim     | 50
-- Aksessuar | 20
```

### WHERE bilan filtrlash
**WHERE** yordamida shart qo‚Äòyib, faqat kerakli ma‚Äôlumotlarni olish mumkin:  
```sql
-- Narxi 100 dan yuqori bo‚Äòlgan mahsulotlarni olish
SELECT * FROM products WHERE narxi > 100;
-- Natija:
-- id | nomi    | narxi | turi
-- 1  | Telefon | 500   | Elektronika
-- 2  | Noutbuk | 800   | Elektronika

-- Turi "Moda" bo‚Äòlgan mahsulotlarni olish
SELECT * FROM products WHERE turi = 'Moda';
-- Natija:
-- id | nomi      | narxi | turi
-- 3  | Kiyim     | 50    | Moda
-- 4  | Aksessuar | 20    | Moda
```

### Ko‚Äòproq shartlar qo‚Äòyish
**AND**, **OR**, **NOT** operatorlari bilan murakkab shartlar qo‚Äòyish:  
```sql
-- Narxi 100 dan yuqori va turi "Elektronika" bo‚Äòlgan mahsulotlarni olish
SELECT * FROM products WHERE narxi > 100 AND turi = 'Elektronika';
-- Natija:
-- id | nomi    | narxi | turi
-- 1  | Telefon | 500   | Elektronika
-- 2  | Noutbuk | 800   | Elektronika

-- Narxi 50 dan kichik yoki turi "Elektronika" bo‚Äòlgan mahsulotlarni olish
SELECT * FROM products WHERE narxi < 50 OR turi = 'Elektronika';
-- Natija:
-- id | nomi      | narxi | turi
-- 1  | Telefon   | 500   | Elektronika
-- 2  | Noutbuk   | 800   | Elektronika
-- 4  | Aksessuar | 20    | Moda
```

### LIKE bilan qidirish
**LIKE** operatoridan foydalanib matn bo‚Äòyicha qidirish:  
```sql
-- Nomi "T" bilan boshlanadigan mahsulotlarni olish
SELECT * FROM products WHERE nomi LIKE 'T%';
-- Natija:
-- id | nomi    | narxi | turi
-- 1  | Telefon | 500   | Elektronika
```

**Eslatma:** Bu darsda biz faqat so‚Äòrovlar va natijalarni tasavvur qilamiz, chunki real ulanish muhitga bog‚Äòliq.

Mashq: Quyidagi vazifani bajaring:  
- `students` nomli jadval yarating (id, ism, baho).  
- 3 ta talaba qo‚Äòshing (masalan, Ali, 5; Zilola, 4; Vali, 3).  
- Bahosi 4 dan yuqori bo‚Äòlgan talabalarni topish so‚Äòrovini yozing.  

5 daqiqa vaqt beraman!

---

## 3. Python bilan Select & Where so‚Äòrovlar (20 daqiqa)

Ajoyib, endi Python yordamida SELECT va WHERE so‚Äòrovlar bilan ishlashni o‚Äòrganamiz!

### `psycopg2` bilan ulanish
Python‚Äôda PostgreSQL bilan ishlash uchun `psycopg2` ishlatamiz:

```python
import psycopg2

# PostgreSQL‚Äôga ulanish
try:
    conn = psycopg2.connect(
        database="shop",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # SELECT bilan barcha ma‚Äôlumotlarni olish
    cursor.execute("SELECT * FROM products")
    natija = cursor.fetchall()
    print("Barcha mahsulotlar:", natija)
    # Natija: [(1, 'Telefon', 500, 'Elektronika'), (2, 'Noutbuk', 800, 'Elektronika'), ...]

    # WHERE bilan filtrlash
    cursor.execute("SELECT * FROM products WHERE narxi > %s AND turi = %s", (100, "Elektronika"))
    natija = cursor.fetchall()
    print("Narxi 100 dan yuqori va turi Elektronika:", natija)
    # Natija: [(1, 'Telefon', 500, 'Elektronika'), (2, 'Noutbuk', 800, 'Elektronika')]

    # LIKE bilan qidirish
    cursor.execute("SELECT * FROM products WHERE nomi LIKE %s", ('T%'))
    natija = cursor.fetchall()
    print("Nomi 'T' bilan boshlanadigan mahsulotlar:", natija)
    # Natija: [(1, 'Telefon', 500, 'Elektronika')]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

**Tushuntirish:**  
- `cursor.execute` yordamida SELECT va WHERE so‚Äòrovlarini bajarish mumkin.  
- `%s` o‚Äòrniga qiymatlar qo‚Äòyish xavfsiz usul (SQL injection‚Äôni oldini oladi).  
- `fetchall()` barcha natijalarni ro‚Äòyxat sifatida qaytaradi.  

**Eslatma:** Bu darsda biz faqat kodni ko‚Äòrib chiqamiz, chunki real ulanish muhitga bog‚Äòliq.

Mashq: Quyidagi vazifani bajaring:  
- Python‚Äôda `employees` nomli jadval yarating (id, name, salary).  
- 3 ta xodim qo‚Äòshing (masalan, Ali, 1500; Vali, 1200; Zilola, 900).  
- Maoshi 1000 dan yuqori bo‚Äòlgan xodimlarni topish so‚Äòrovini yozing.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi o‚Äòrganganlarimizni amalda sinab ko‚Äòramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: SQL‚Äôda SELECT va WHERE
- `books` nomli jadval yarating (id, title, price).  
- 3 ta kitob qo‚Äòshing (masalan, Python 101, 60; Java Basics, 40; Data Science, 80).  
- Narxi 50 dan yuqori bo‚Äòlgan kitoblarni topish so‚Äòrovini yozing.

```sql
-- Jadval yaratish
CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100),
    price INTEGER
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO books (title, price) VALUES ('Python 101', 60);
INSERT INTO books (title, price) VALUES ('Java Basics', 40);
INSERT INTO books (title, price) VALUES ('Data Science', 80);

-- Narxi 50 dan yuqori bo‚Äòlgan kitoblarni topish
SELECT * FROM books WHERE price > 50;
-- Natija:
-- id | title        | price
-- 1  | Python 101   | 60
-- 3  | Data Science | 80
```

### Mashq 2: Python‚Äôda SELECT va WHERE
- `students` nomli jadval yarating (id, ism, baho).  
- 3 ta talaba qo‚Äòshing.  
- Bahosi 4 dan yuqori bo‚Äòlgan talabalarni toping.

```python
import psycopg2

try:
    conn = psycopg2.connect(
        database="shop",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()

    # Jadval yaratish
    cursor.execute('''CREATE TABLE IF NOT EXISTS students (
        id SERIAL PRIMARY KEY,
        ism VARCHAR(50),
        baho INTEGER
    )''')

    # Ma‚Äôlumot qo‚Äòshish
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Ali", 5))
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Zilola", 4))
    cursor.execute("INSERT INTO students (ism, baho) VALUES (%s, %s)", ("Vali", 3))
    conn.commit()

    # Bahosi 4 dan yuqori bo‚Äòlgan talabalarni topish
    cursor.execute("SELECT * FROM students WHERE baho > %s", (4,))
    natija = cursor.fetchall()
    print(natija)  # [(1, 'Ali', 5)]

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
```

### Mashq 3: Murakkab shartlar bilan ishlash
- Yuqoridagi `students` jadvalida:  
  - Ismi ‚ÄúA‚Äù bilan boshlanadigan talabalarni topish so‚Äòrovini yozing (LIKE ishlatib).  
  - Bahosi 3 dan kichik yoki 5 ga teng bo‚Äòlgan talabalarni toping.

```sql
-- Ismi "A" bilan boshlanadigan talabalar
SELECT * FROM students WHERE ism LIKE 'A%';
-- Natija:
-- id | ism  | baho
-- 1  | Ali  | 5

-- Bahosi 3 dan kichik yoki 5 ga teng
SELECT * FROM students WHERE baho < 3 OR baho = 5;
-- Natija:
-- id | ism  | baho
-- 1  | Ali  | 5
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! üéâ Bugun biz PostgreSQL‚Äôda SELECT va WHERE so‚Äòrovlar bilan ishlashni o‚Äòrgandik. SQL va Python yordamida ma‚Äôlumotlarni qanday filtrlashni ko‚Äòrdik.

Uyga vazifa sifatida quyidagini qiling:  
1. `employees` nomli jadval yarating (id, name, salary).  
   - 3 ta xodim qo‚Äòshing (SQL‚Äôda).  
   - Maoshi 1000 dan yuqori bo‚Äòlgan xodimlarni topish so‚Äòrovini yozing.  
2. Python‚Äôda `products` nomli jadval yarating (id, nomi, narxi).  
   - 3 ta mahsulot qo‚Äòshing.  
   - Narxi 50 dan kichik yoki 500 ga teng bo‚Äòlgan mahsulotlarni toping.  
3. Yuqoridagi `products` jadvalida nomi ‚ÄúT‚Äù bilan boshlanadigan mahsulotlarni topish so‚Äòrovini yozing (SQL‚Äôda).  

Darsimiz shu bilan tugadi, keyingi darsda esa `PostgreSQL Insert, Update, Delete` mavzusini o‚Äòrganamiz. Savollaringiz bo‚Äòlsa, yozib qoldiring yoki keyingi darsda so‚Äòrang! üòä

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‚Äòr ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‚Äòrgandik? Kim aytib bera oladi? (O‚Äòquvchilar javobini kutaman.)

- SELECT qanday ishlaydi?  
- WHERE shartlari qanday qo‚Äòyiladi?  
- Python‚Äôda so‚Äòrovlar qanday bajarildi?  

Qandaydir tushunmovchilik bo‚Äòldimi? Savollaringiz bormi? (O‚Äòquvchilar savollarini eshitaman va tushuntiraman.) üòä

---