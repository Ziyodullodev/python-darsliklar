---

# üìö Darsning mavzusi: PostgreSQL Drop Table, MySQL Limit, MySQL Join

## Qisqacha vaqt taqsimoti

| Qism                          | Davomiyligi     |
|-------------------------------|-----------------|
| Kirish va mavzular haqida      | 20 daqiqa       |
| PostgreSQL Drop Table, MySQL Limit, MySQL Join bilan ishlash | 25 daqiqa       |
| Python bilan so‚Äòrovlar        | 20 daqiqa       |
| Amaliy mashqlar               | 25 daqiqa       |
| Xulosa va uy vazifasi         | 20 daqiqa       |
| Qayta aloqa va savollar       | 10 daqiqa       |
| Jami                          | 120 daqiqa (2 soat) |

Bu usul yoshlar uchun samarali, qiziqarli va tushunarli bo‚Äòlib, o‚Äòquvchilarni dars jarayoniga faolroq jalb qiladi.

---

# üìñ Darsning batafsil rejasi

## 1. Kirish va PostgreSQL Drop Table, MySQL Limit, MySQL Join haqida (20 daqiqa)

Assalomu alaykum, yosh dasturchilar! üòä Bugun biz PostgreSQL va MySQL‚Äôda muhim so‚Äòrovlar bilan ishlaymiz: **PostgreSQL Drop Table**, **MySQL Limit** va **MySQL Join**. Bu so‚Äòrovlar ma‚Äôlumotlar bazasini boshqarish va ma‚Äôlumotlarni samarali ishlatishda juda foydali.

**Bugungi mavzular nima?**  
- **PostgreSQL Drop Table:** Jadvalni ma‚Äôlumotlar bazasidan butunlay o‚Äòchirish.  
- **MySQL Limit:** Natijalarni cheklash (masalan, faqat 5 ta qatorni ko‚Äòrsatish).  
- **MySQL Join:** Ikkala jadvaldan ma‚Äôlumotlarni umumiy maydon asosida birlashtirish.  

Bugun biz quyidagilarni o‚Äòrganamiz:  
- PostgreSQL‚Äôda jadvalni qanday o‚Äòchirish.  
- MySQL‚Äôda natijalarni qanday cheklash.  
- MySQL Join yordamida jadvallarni qanday birlashtirish.  
- Python‚Äôda ushbu so‚Äòrovlar bilan ishlash.  

**Nima uchun bu muhim?**  
Jadvalni o‚Äòchirish, natijalarni cheklash va jadvallarni birlashtirish real loyihalarda, masalan, ma‚Äôlumotlarni tozalash yoki mijozlar va buyurtmalarni bog‚Äòlashda kerak bo‚Äòladi.

Keling, bir savol: Jadvallarni birlashtirish qanday hollarda foydali bo‚Äòladi deb o‚Äòylaysiz? (O‚Äòquvchilar javobini kutaman, to‚Äòg‚Äòri javob bo‚Äòlsa: ‚ÄúAjoyib, to‚Äòg‚Äòri!‚Äù deyman.)

Mashq: Quyidagi vazifani bajaring:  
- Drop Table, Limit va Join haqida o‚Äòzingizning taxminiy tushunchangizni yozing (qog‚Äòozda yoki fikr sifatida).  
- Qanday loyiha uchun jadvallarni birlashtirish kerak bo‚Äòlishi mumkin (masalan, onlayn do‚Äòkon)?  

5 daqiqa vaqt beraman!

---

## 2. PostgreSQL Drop Table, MySQL Limit, MySQL Join bilan ishlash (25 daqiqa)

Endi PostgreSQL va MySQL‚Äôda ushbu so‚Äòrovlar bilan ishlaymiz!

### PostgreSQL Drop Table
PostgreSQL‚Äôda jadvalni o‚Äòchirish uchun **DROP TABLE** so‚Äòrovini ishlatamiz. Bu so‚Äòrov jadvalni va uning barcha ma‚Äôlumotlarini butunlay o‚Äòchiradi, shuning uchun ehtiyot bo‚Äòlish kerak.

#### Tayyor jadval
Avval PostgreSQL‚Äôda jadval yaratamiz:  
```sql
-- Ma‚Äôlumotlar bazasi va jadval yaratish
CREATE DATABASE store;
\c store

CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    nomi VARCHAR(50),
    narxi INTEGER
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO products (nomi, narxi) VALUES ('Telefon', 500);
INSERT INTO products (nomi, narxi) VALUES ('Noutbuk', 800);
```

#### Jadvalni o‚Äòchirish
**DROP TABLE** bilan jadvalni o‚Äòchiramiz:  
```sql
-- Jadvalni o‚Äòchirish
DROP TABLE products;

-- Agar jadval mavjud bo‚Äòlmasa xato chiqmasligi uchun IF EXISTS qo‚Äòshamiz
DROP TABLE IF EXISTS products;
-- Natija: NOTICE: table "products" does not exist, skipping
```

Agar jadval boshqa ob‚Äôektlarga (masalan, foreign key) bog‚Äòlangan bo‚Äòlsa, **CASCADE** opsiyasidan foydalanamiz:  
```sql
DROP TABLE products CASCADE;
```

### MySQL Limit
MySQL‚Äôda **LIMIT** yordamida natijalarni cheklash mumkin. Bu katta ma‚Äôlumotlar bazasida faqat kerakli qatorlarni olish uchun foydali.

#### Tayyor jadval
MySQL‚Äôda jadval yaratamiz:  
```sql
CREATE DATABASE shop;
USE shop;

CREATE TABLE items (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50),
    price INT
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO items (name, price) VALUES ('Telefon', 500);
INSERT INTO items (name, price) VALUES ('Noutbuk', 800);
INSERT INTO items (name, price) VALUES ('Kiyim', 50);
INSERT INTO items (name, price) VALUES ('Aksessuar', 20);
```

#### LIMIT bilan ishlash
**LIMIT** yordamida faqat bir nechta qatorni olish:  
```sql
-- Faqat birinchi 2 ta qatorni olish
SELECT * FROM items LIMIT 2;
-- Natija:
-- id | name     | price
-- 1  | Telefon  | 500
-- 2  | Noutbuk  | 800

-- Narx bo‚Äòyicha tartiblab, birinchi 2 qatorni olish
SELECT * FROM items ORDER BY price DESC LIMIT 2;
-- Natija:
-- id | name     | price
-- 2  | Noutbuk  | 800
-- 1  | Telefon  | 500
```

### MySQL Join
**JOIN** yordamida ikkita jadvalni birlashtiramiz. Eng ko‚Äòp ishlatiladigan turi **INNER JOIN**dir.

#### Tayyor jadvallar
Ikkita jadval yaratamiz:  
```sql
CREATE TABLE customers (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50)
);

CREATE TABLE orders (
    order_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_id INT,
    product VARCHAR(50)
);

-- Ma‚Äôlumot qo‚Äòshish
INSERT INTO customers (name) VALUES ('Ali'), ('Zilola');
INSERT INTO orders (customer_id, product) VALUES (1, 'Telefon'), (2, 'Noutbuk');
```

#### INNER JOIN bilan birlashtirish
**INNER JOIN** yordamida umumiy qatorlarni birlashtiramiz:  
```sql
SELECT customers.name, orders.product
FROM customers
INNER JOIN orders
ON customers.customer_id = orders.customer_id;
-- Natija:
-- name   | product
-- Ali    | Telefon
-- Zilola | Noutbuk
```

**Eslatma:** Bu darsda biz faqat so‚Äòrovlar va natijalarni tasavvur qilamiz, chunki real ulanish muhitga bog‚Äòliq.

Mashq: Quyidagi vazifani bajaring:  
- PostgreSQL‚Äôda `students` jadvalini yarating va o‚Äòchiring.  
- MySQL‚Äôda `books` jadvalini yarating, 4 ta kitob qo‚Äòshing va faqat 2 tasini ko‚Äòrsating.  
- MySQL‚Äôda `employees` va `departments` jadvallarini yarating va birlashtiring.  

5 daqiqa vaqt beraman!

---

## 3. Python bilan PostgreSQL Drop Table, MySQL Limit, MySQL Join so‚Äòrovlar (20 daqiqa)

Ajoyib, endi Python yordamida ushbu so‚Äòrovlar bilan ishlaymiz! PostgreSQL uchun `psycopg2`, MySQL uchun esa `mysql-connector-python` ishlatamiz.

### PostgreSQL Drop Table
```python
import psycopg2

try:
    conn = psycopg2.connect(
        database="store",
        user="postgres",
        password="admin123",
        host="localhost",
        port="5432"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # Jadvalni o‚Äòchirish
    cursor.execute("DROP TABLE IF EXISTS products")
    conn.commit()
    print("Jadval o‚Äòchirildi!")

except psycopg2.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

### MySQL Limit
```python
import mysql.connector

try:
    conn = mysql.connector.connect(
        database="shop",
        user="root",
        password="admin123",
        host="localhost",
        port="3306"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # LIMIT bilan faqat 2 qator olish
    cursor.execute("SELECT * FROM items LIMIT 2")
    natija = cursor.fetchall()
    print("Birinchi 2 qator:", natija)
    # Natija: [(1, 'Telefon', 500), (2, 'Noutbuk', 800)]

except mysql.connector.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

### MySQL Join
```python
try:
    conn = mysql.connector.connect(
        database="shop",
        user="root",
        password="admin123",
        host="localhost",
        port="3306"
    )
    cursor = conn.cursor()
    print("Bazaga ulanildi!")

    # JOIN bilan jadvallarni birlashtirish
    cursor.execute("""
        SELECT customers.name, orders.product
        FROM customers
        INNER JOIN orders
        ON customers.customer_id = orders.customer_id
    """)
    natija = cursor.fetchall()
    print("Birlashtirilgan natija:", natija)
    # Natija: [('Ali', 'Telefon'), ('Zilola', 'Noutbuk')]

except mysql.connector.Error as xato:
    print(f"Xato: {xato}")
finally:
    cursor.close()
    conn.close()
    print("Ulanish yopildi!")
```

**Eslatma:** Bu darsda biz faqat kodni ko‚Äòrib chiqamiz, chunki real ulanish muhitga bog‚Äòliq.

Mashq: Quyidagi vazifani bajaring:  
- Python‚Äôda PostgreSQL bilan `employees` jadvalini yarating va o‚Äòchiring.  
- Python‚Äôda MySQL bilan `products` jadvalini yarating, 4 ta mahsulot qo‚Äòshing va faqat 2 tasini oling.  
- Python‚Äôda MySQL bilan `users` va `purchases` jadvallarini birlashtiring.  

5 daqiqa vaqt beraman!

---

## 4. Amaliy mashqlar (25 daqiqa)

Endi o‚Äòrganganlarimizni amalda sinab ko‚Äòramiz! Quyidagi mashqlarni qilamiz:

### Mashq 1: PostgreSQL Drop Table
- PostgreSQL‚Äôda `books` jadvalini yarating, 3 ta kitob qo‚Äòshing va o‚Äòchiring.

```sql
CREATE TABLE books (
    id SERIAL PRIMARY KEY,
    title VARCHAR(100),
    price INTEGER
);

INSERT INTO books (title, price) VALUES ('Python 101', 60);
INSERT INTO books (title, price) VALUES ('Java Basics', 40);
INSERT INTO books (title, price) VALUES ('Data Science', 80);

DROP TABLE books;
```

### Mashq 2: MySQL Limit
- MySQL‚Äôda `students` jadvalini yarating, 4 ta talaba qo‚Äòshing va faqat 2 tasini ko‚Äòrsating.

```sql
CREATE TABLE students (
    id INT AUTO_INCREMENT PRIMARY KEY,
    ism VARCHAR(50),
    baho INTEGER
);

INSERT INTO students (ism, baho) VALUES ('Ali', 5);
INSERT INTO students (ism, baho) VALUES ('Zilola', 4);
INSERT INTO students (ism, baho) VALUES ('Vali', 3);
INSERT INTO students (ism, baho) VALUES ('Mohira', 5);

SELECT * FROM students LIMIT 2;
-- Natija:
-- id | ism    | baho
-- 1  | Ali    | 5
-- 2  | Zilola | 4
```

### Mashq 3: MySQL Join
- MySQL‚Äôda `employees` va `departments` jadvallarini yarating va birlashtiring.

```sql
CREATE TABLE departments (
    dept_id INT AUTO_INCREMENT PRIMARY KEY,
    dept_name VARCHAR(50)
);

CREATE TABLE employees (
    emp_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50),
    dept_id INT
);

INSERT INTO departments (dept_name) VALUES ('IT'), ('HR');
INSERT INTO employees (name, dept_id) VALUES ('Ali', 1), ('Zilola', 2);

SELECT employees.name, departments.dept_name
FROM employees
INNER JOIN departments
ON employees.dept_id = departments.dept_id;
-- Natija:
-- name   | dept_name
-- Ali    | IT
-- Zilola | HR
```

Har bir mashq uchun 8-9 daqiqa vaqt beraman. Kodlarni yozib, natijalarni ekranga chiqaring!

---

## 5. Xulosa va uy vazifasi (20 daqiqa)

Ajoyib, yosh dasturchilar! üéâ Bugun biz PostgreSQL‚Äôda DROP TABLE, MySQL‚Äôda LIMIT va JOIN so‚Äòrovlar bilan ishlashni o‚Äòrgandik. SQL va Python yordamida jadvallarni qanday o‚Äòchirish, natijalarni cheklash va jadvallarni birlashtirishni ko‚Äòrdik.

Uyga vazifa sifatida quyidagini qiling:  
1. PostgreSQL‚Äôda `products` jadvalini yarating, 3 ta mahsulot qo‚Äòshing va o‚Äòchiring.  
2. MySQL‚Äôda `orders` jadvalini yarating, 5 ta buyurtma qo‚Äòshing va faqat 3 tasini ko‚Äòrsating.  
3. MySQL‚Äôda `users` va `items` jadvallarini yarating, birlashtirib natijalarni ko‚Äòrsating.  

Darsimiz shu bilan tugadi, keyingi darsda esa `PostgreSQL Loyiha - Onlayn Do‚Äòkon Ma‚Äôlumotlar Bazasi` mavzusini o‚Äòrganamiz. Savollaringiz bo‚Äòlsa, yozib qoldiring yoki keyingi darsda so‚Äòrang! üòä

---

## 6. Qayta ko'rib chiqish va savollar (10 daqiqa)

Zo‚Äòr ish qildingiz! Endi bir oz o'rganganlarimizi qayta ko'rib chiqamiz. Bugungi darsda nimalarni o‚Äòrgandik? Kim aytib bera oladi? (O‚Äòquvchilar javobini kutaman.)

- DROP TABLE qanday ishlaydi?  
- LIMIT qanday natijalarni cheklaydi?  
- JOIN qanday jadvallarni birlashtiradi?  

Qandaydir tushunmovchilik bo‚Äòldimi? Savollaringiz bormi? (O‚Äòquvchilar savollarini eshitaman va tushuntiraman.) üòä

---